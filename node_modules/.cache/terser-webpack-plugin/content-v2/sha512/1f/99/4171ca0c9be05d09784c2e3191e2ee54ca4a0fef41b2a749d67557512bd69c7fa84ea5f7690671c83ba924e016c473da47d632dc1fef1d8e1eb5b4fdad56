{"code":"!function(e,t){for(var r in t)e[r]=t[r]}(exports,function(e){var t={};function r(s){if(t[s])return t[s].exports;var i=t[s]={i:s,l:!1,exports:{}};return e[s].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)r.d(s,i,function(t){return e[t]}.bind(null,i));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=38)}([function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.API_V1_1_STREAM_PREFIX=t.API_V1_1_UPLOAD_PREFIX=t.API_V1_1_PREFIX=t.API_V2_LABS_PREFIX=t.API_V2_PREFIX=void 0,t.API_V2_PREFIX=\"https://api.twitter.com/2/\",t.API_V2_LABS_PREFIX=\"https://api.twitter.com/labs/2/\",t.API_V1_1_PREFIX=\"https://api.twitter.com/1.1/\",t.API_V1_1_UPLOAD_PREFIX=\"https://upload.twitter.com/1.1/\",t.API_V1_1_STREAM_PREFIX=\"https://stream.twitter.com/1.1/\"},function(e,t,r){\"use strict\";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(39),t),i(r(49),t),i(r(56),t),i(r(57),t),i(r(58),t),i(r(59),t),i(r(60),t)},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.safeDeprecationWarning=t.hasMultipleItems=t.isTweetStreamV2ErrorPayload=t.trimUndefinedProperties=t.arrayWrap=t.sharedPromise=void 0;const s=r(10);t.sharedPromise=function(e){const t={value:void 0,promise:e().then(e=>(t.value=e,e))};return t},t.arrayWrap=function(e){return Array.isArray(e)?e:[e]},t.trimUndefinedProperties=function(e){for(const t in e)void 0===e[t]&&delete e[t]},t.isTweetStreamV2ErrorPayload=function(e){return\"object\"==typeof e&&\"errors\"in e&&!(\"data\"in e)},t.hasMultipleItems=function(e){return!!(Array.isArray(e)&&e.length>1)||e.toString().includes(\",\")};const i=new Set;t.safeDeprecationWarning=function(e){if(\"undefined\"==typeof console||!console.warn||!s.TwitterApiV2Settings.deprecationWarnings)return;const t=`${e.instance}-${e.method}-${e.problem}`;if(i.has(t))return;const r=`[twitter-api-v2] Deprecation warning: In ${e.instance}.${e.method}() call, ${e.problem}.\\n${e.resolution}.`;console.warn(r),console.warn(\"To disable this message, import variable TwitterApiV2Settings from twitter-api-v2 and set TwitterApiV2Settings.deprecationWarnings to false.\"),i.add(t)}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.PreviousableTwitterPaginator=t.TwitterPaginator=void 0;class s{constructor({realData:e,rateLimit:t,instance:r,queryParams:s,sharedParams:i}){this._maxResultsWhenFetchLast=100,this._realData=e,this._rateLimit=t,this._instance=r,this._queryParams=s,this._sharedParams=i}get _isRateLimitOk(){return 1e3*this._rateLimit.reset<Date.now()||this._rateLimit.remaining>0}makeRequest(e){return this._instance.get(this.getEndpoint(),e,{fullResponse:!0,params:this._sharedParams})}makeNewInstanceFromResult(e,t){return new this.constructor({realData:e.data,rateLimit:e.rateLimit,instance:this._instance,queryParams:t,sharedParams:this._sharedParams})}getEndpoint(){return this._endpoint}injectQueryParams(e){return{...e?{max_results:e}:{},...this._queryParams}}async next(e){const t=this.getNextQueryParams(e),r=await this.makeRequest(t);return this.makeNewInstanceFromResult(r,t)}async fetchNext(e){const t=this.getNextQueryParams(e),r=await this.makeRequest(t);return await this.refreshInstanceFromResult(r,!0),this}async fetchLast(e=1/0){let t=this.getNextQueryParams(this._maxResultsWhenFetchLast),r=0;for(;r<e&&this._isRateLimitOk;){const e=await this.makeRequest(t);if(await this.refreshInstanceFromResult(e,!0),r+=this.getPageLengthFromRequest(e),this.isFetchLastOver(e))break;t=this.getNextQueryParams(this._maxResultsWhenFetchLast)}return this}get rateLimit(){return{...this._rateLimit}}get data(){return this._realData}get done(){return!this.canFetchNextPage(this._realData)}*[Symbol.iterator](){yield*this.getItemArray()}async*[Symbol.asyncIterator](){yield*this.getItemArray();let e=this,t=this.canFetchNextPage(this._realData);for(;t&&this._isRateLimitOk&&e.getItemArray().length>0;){const r=await e.next(this._maxResultsWhenFetchLast);this.refreshInstanceFromResult({data:r._realData,headers:{},rateLimit:r._rateLimit},!0),t=this.canFetchNextPage(r._realData);const s=r.getItemArray();yield*s,e=r}}async*fetchAndIterate(){for(const e of this.getItemArray())yield[e,this];let e=this,t=this.canFetchNextPage(this._realData);for(;t&&this._isRateLimitOk&&e.getItemArray().length>0;){const r=await e.next(this._maxResultsWhenFetchLast);this.refreshInstanceFromResult({data:r._realData,headers:{},rateLimit:r._rateLimit},!0),t=this.canFetchNextPage(r._realData);for(const e of r.getItemArray())yield[e,r];this._rateLimit=r._rateLimit,e=r}}}t.TwitterPaginator=s;t.PreviousableTwitterPaginator=class extends s{async previous(e){const t=this.getPreviousQueryParams(e),r=await this.makeRequest(t);return this.makeNewInstanceFromResult(r,t)}async fetchPrevious(e){const t=this.getPreviousQueryParams(e),r=await this.makeRequest(t);return await this.refreshInstanceFromResult(r,!1),this}},t.default=s},function(e,t,r){\"use strict\";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.CursoredV1Paginator=void 0;const i=s(r(3));class n extends i.default{getNextQueryParams(e){var t;return{...this._queryParams,cursor:null!==(t=this._realData.next_cursor_str)&&void 0!==t?t:this._realData.next_cursor,...e?{count:e}:{}}}isFetchLastOver(e){return!this.canFetchNextPage(e.data)}canFetchNextPage(e){return!this.isNextCursorInvalid(e.next_cursor)||!this.isNextCursorInvalid(e.next_cursor_str)}isNextCursorInvalid(e){return void 0===e||0===e||-1===e||\"0\"===e||\"-1\"===e}}t.CursoredV1Paginator=n},function(e,t,r){\"use strict\";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.TwitterApiReadOnly=t.TwitterApiReadWrite=t.TwitterApi=void 0;const i=s(r(6)),n=s(r(26)),a=s(r(35));class o extends a.default{get v1(){return this._v1?this._v1:this._v1=new i.default(this)}get v2(){return this._v2?this._v2:this._v2=new n.default(this)}get readWrite(){return this}static getErrors(e){var t;return\"object\"!=typeof e?[]:\"data\"in e&&null!==(t=e.data.errors)&&void 0!==t?t:[]}static getProfileImageInSize(e,t){const r=e.split(\"/\").pop(),s=[\"normal\",\"bigger\",\"mini\"];let i=e;for(const t of s)if(r.includes(\"_\"+t)){i=e.replace(\"_\"+t,\"\");break}if(\"original\"===t)return i;const n=i.lastIndexOf(\".\");if(-1!==n){const e=i.slice(n+1);return i.slice(0,n)+\"_\"+t+\".\"+e}return i+\"_\"+t}}t.TwitterApi=o;var u=r(35);Object.defineProperty(t,\"TwitterApiReadWrite\",{enumerable:!0,get:function(){return s(u).default}});var c=r(36);Object.defineProperty(t,\"TwitterApiReadOnly\",{enumerable:!0,get:function(){return s(c).default}}),t.default=o},function(e,t,r){\"use strict\";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.TwitterApiv1=void 0;const i=r(0),n=r(12),a=r(1),o=s(r(13));class u extends o.default{constructor(){super(...arguments),this._prefix=i.API_V1_1_PREFIX}get readWrite(){return this}sendDm({recipient_id:e,custom_profile_id:t,...r}){const s={event:{type:a.EDirectMessageEventTypeV1.Create,[a.EDirectMessageEventTypeV1.Create]:{target:{recipient_id:e},message_data:r}}};return t&&(s.event[a.EDirectMessageEventTypeV1.Create].custom_profile_id=t),this.post(\"direct_messages/events/new.json\",s,{forceBodyMode:\"json\"})}getDmEvent(e){return this.get(\"direct_messages/events/show.json\",{id:e})}deleteDm(e){return this.delete(\"direct_messages/events/destroy.json\",{id:e})}async listDmEvents(e={}){const t={...e},r=await this.get(\"direct_messages/events/list.json\",t,{fullResponse:!0});return new n.DmEventsV1Paginator({realData:r.data,rateLimit:r.rateLimit,instance:this,queryParams:t})}newWelcomeDm(e,t){const r={[a.EDirectMessageEventTypeV1.WelcomeCreate]:{name:e,message_data:t}};return this.post(\"direct_messages/welcome_messages/new.json\",r,{forceBodyMode:\"json\"})}getWelcomeDm(e){return this.get(\"direct_messages/welcome_messages/show.json\",{id:e})}deleteWelcomeDm(e){return this.delete(\"direct_messages/welcome_messages/destroy.json\",{id:e})}updateWelcomeDm(e,t){const r={message_data:t};return this.put(\"direct_messages/welcome_messages/update.json\",r,{forceBodyMode:\"json\",query:{id:e}})}async listWelcomeDms(e={}){const t={...e},r=await this.get(\"direct_messages/welcome_messages/list.json\",t,{fullResponse:!0});return new n.WelcomeDmV1Paginator({realData:r.data,rateLimit:r.rateLimit,instance:this,queryParams:t})}newWelcomeDmRule(e){return this.post(\"direct_messages/welcome_messages/rules/new.json\",{welcome_message_rule:{welcome_message_id:e}},{forceBodyMode:\"json\"})}getWelcomeDmRule(e){return this.get(\"direct_messages/welcome_messages/rules/show.json\",{id:e})}deleteWelcomeDmRule(e){return this.delete(\"direct_messages/welcome_messages/rules/destroy.json\",{id:e})}async listWelcomeDmRules(e={}){const t={...e};return this.get(\"direct_messages/welcome_messages/rules/list.json\",t)}async setWelcomeDm(e,t=!0){var r;const s=await this.listWelcomeDmRules();if(null===(r=s.welcome_message_rules)||void 0===r?void 0:r.length)for(const e of s.welcome_message_rules)await this.deleteWelcomeDmRule(e.id),t&&await this.deleteWelcomeDm(e.welcome_message_id);return this.newWelcomeDmRule(e)}markDmAsRead(e,t){return this.post(\"direct_messages/mark_read.json\",{last_read_event_id:e,recipient_id:t},{forceBodyMode:\"url\"})}indicateDmTyping(e){return this.post(\"direct_messages/indicate_typing.json\",{recipient_id:e},{forceBodyMode:\"url\"})}async downloadDmImage(e){if(\"string\"!=typeof e){const t=e[a.EDirectMessageEventTypeV1.Create].message_data.attachment;if(!t)throw new Error(\"The given direct message doesn't contain any attachment\");e=t.media_url_https}const t=await this.get(e,void 0,{forceParseMode:\"buffer\",prefix:\"\"});if(!t.length)throw new Error(\"Image not found. Make sure you are logged with credentials able to access direct messages, and check the URL.\");return t}}t.TwitterApiv1=u,t.default=u},function(e,t,r){\"use strict\";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0});const i=s(r(15));class n extends i.default{constructor(e){if(!(e instanceof i.default))throw new Error(\"You must instance SubTwitterApi instance from existing TwitterApi instance.\");super(e)}}t.default=n},function(e,t,r){\"use strict\";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,\"default\",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)\"default\"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&s(t,e,r);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.TweetStream=void 0;const o=r(9),u=a(r(16)),c=r(1),l=a(r(65)),d=n(r(66)),h=[5,15,30,60,90,120,180,300,600,900],p=e=>e>h.length?901e3:1e3*h[e-1];class m extends o.EventEmitter{constructor(e,t){super(),this.requestData=e,this.autoReconnect=!1,this.autoReconnectRetries=5,this.keepAliveTimeoutMs=12e4,this.nextRetryTimeout=p,this.parser=new d.default,this.connectionProcessRunning=!1,this.onKeepAliveTimeout=this.onKeepAliveTimeout.bind(this),this.initEventsFromParser(),t&&(this.req=t.req,this.res=t.res,this.originalResponse=t.originalResponse,this.initEventsFromRequest())}on(e,t){return super.on(e,t)}initEventsFromRequest(){if(!this.req||!this.res)throw new Error(\"TweetStream error: You cannot init TweetStream without a request and response object.\");const e=e=>{this.emit(c.ETwitterStreamEvent.ConnectionError,e),this.emit(c.ETwitterStreamEvent.Error,{type:c.ETwitterStreamEvent.ConnectionError,error:e,message:\"Connection lost or closed by Twitter.\"}),this.onConnectionError()};this.req.on(\"error\",e),this.res.on(\"error\",e),this.res.on(\"close\",()=>e(new Error(\"Connection closed by Twitter.\"))),this.res.on(\"data\",e=>{if(this.resetKeepAliveTimeout(),\"\\r\\n\"===e.toString())return this.emit(c.ETwitterStreamEvent.DataKeepAlive);this.parser.push(e.toString())}),this.resetKeepAliveTimeout()}initEventsFromParser(){const e=this.requestData.payloadIsError;this.parser.on(d.EStreamParserEvent.ParsedData,t=>{e&&e(t)?(this.emit(c.ETwitterStreamEvent.DataError,t),this.emit(c.ETwitterStreamEvent.Error,{type:c.ETwitterStreamEvent.DataError,error:t,message:\"Twitter sent a payload that is detected as an error payload.\"})):this.emit(c.ETwitterStreamEvent.Data,t)}),this.parser.on(d.EStreamParserEvent.ParseError,e=>{this.emit(c.ETwitterStreamEvent.TweetParseError,e),this.emit(c.ETwitterStreamEvent.Error,{type:c.ETwitterStreamEvent.TweetParseError,error:e,message:\"Failed to parse stream data.\"})})}resetKeepAliveTimeout(){this.unbindKeepAliveTimeout(),this.keepAliveTimeoutMs!==1/0&&(this.keepAliveTimeout=setTimeout(this.onKeepAliveTimeout,this.keepAliveTimeoutMs))}onKeepAliveTimeout(){this.emit(c.ETwitterStreamEvent.ConnectionLost),this.onConnectionError()}unbindTimeouts(){this.unbindRetryTimeout(),this.unbindKeepAliveTimeout()}unbindKeepAliveTimeout(){this.keepAliveTimeout&&(clearTimeout(this.keepAliveTimeout),this.keepAliveTimeout=void 0)}unbindRetryTimeout(){this.retryTimeout&&(clearTimeout(this.retryTimeout),this.retryTimeout=void 0)}closeWithoutEmit(){this.unbindTimeouts(),this.res&&(this.res.removeAllListeners(),this.res.destroy()),this.req&&(this.req.removeAllListeners(),this.req.destroy())}close(){this.emit(c.ETwitterStreamEvent.ConnectionClosed),this.closeWithoutEmit()}destroy(){this.removeAllListeners(),this.close()}async clone(){const e=new u.default(this.requestData),t=await e.makeRequestAsStream(),r=this.eventNames();for(const e of r){const r=this.listeners(e);for(const s of r)t.on(e,s)}return t}async connect(e={}){void 0!==e.autoReconnect&&(this.autoReconnect=e.autoReconnect),void 0!==e.autoReconnectRetries&&(this.autoReconnectRetries=\"unlimited\"===e.autoReconnectRetries?1/0:e.autoReconnectRetries),void 0!==e.keepAliveTimeout&&(this.keepAliveTimeoutMs=\"disable\"===e.keepAliveTimeout?1/0:e.keepAliveTimeout),void 0!==e.nextRetryTimeout&&(this.nextRetryTimeout=e.nextRetryTimeout),this.unbindTimeouts();try{await this.reconnect()}catch(e){if(this.emit(c.ETwitterStreamEvent.ConnectError,0),this.emit(c.ETwitterStreamEvent.Error,{type:c.ETwitterStreamEvent.ConnectError,error:e,message:\"Connect error - Initial connection just failed.\"}),!this.autoReconnect)throw e;this.makeAutoReconnectRetry(0,e)}return this}async reconnect(){if(this.connectionProcessRunning)throw new Error(\"Connection process is already running.\");this.connectionProcessRunning=!0;try{let e=!0;this.req&&(e=!1,this.closeWithoutEmit());const{req:t,res:r,originalResponse:s}=await new u.default(this.requestData).makeRequestAndResolveWhenReady();this.req=t,this.res=r,this.originalResponse=s,this.emit(e?c.ETwitterStreamEvent.Connected:c.ETwitterStreamEvent.Reconnected),this.parser.reset(),this.initEventsFromRequest()}finally{this.connectionProcessRunning=!1}}async onConnectionError(e=0){if(this.unbindTimeouts(),this.closeWithoutEmit(),this.autoReconnect){if(e>=this.autoReconnectRetries)return this.emit(c.ETwitterStreamEvent.ReconnectLimitExceeded),void this.emit(c.ETwitterStreamEvent.ConnectionClosed);try{this.emit(c.ETwitterStreamEvent.ReconnectAttempt,e),await this.reconnect()}catch(t){this.emit(c.ETwitterStreamEvent.ReconnectError,e),this.emit(c.ETwitterStreamEvent.Error,{type:c.ETwitterStreamEvent.ReconnectError,error:t,message:`Reconnect error - ${e+1} attempts made yet.`}),this.makeAutoReconnectRetry(e,t)}}else this.emit(c.ETwitterStreamEvent.ConnectionClosed)}makeAutoReconnectRetry(e,t){const r=this.nextRetryTimeout(e+1,t);this.retryTimeout=setTimeout(()=>{this.onConnectionError(e+1)},r)}async*[Symbol.asyncIterator](){const e=new l.default(this);try{for(;;){if(!this.req||this.req.aborted)throw new Error(\"Connection closed\");e.hasStack()&&(yield*e.popStack());const{type:t,payload:r}=await e.nextEvent();if(\"error\"===t)throw r}}finally{e.destroy()}}}t.TweetStream=m,t.default=m},function(e,t){e.exports=require(\"events\")},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.TwitterApiV2Settings=void 0,t.TwitterApiV2Settings={debug:!1,deprecationWarnings:!0,logger:{log:console.log.bind(console)}}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.TimelineV2Paginator=t.TwitterV2Paginator=void 0;const s=r(30),i=r(3);class n extends i.PreviousableTwitterPaginator{updateIncludes(e){if(e.errors&&(this._realData.errors||(this._realData.errors=[]),this._realData.errors=[...this._realData.errors,...e.errors]),!e.includes)return;this._realData.includes||(this._realData.includes={});const t=this._realData.includes;for(const[r,s]of Object.entries(e.includes))t[r]||(t[r]=[]),t[r]=[...t[r],...s]}assertUsable(){if(this.unusable)throw new Error(\"Unable to use this paginator to fetch more data, as it does not contain any metadata. Check .errors property for more details.\")}get meta(){return this._realData.meta}get includes(){var e;return(null===(e=this._realData)||void 0===e?void 0:e.includes)?this._includesInstance?this._includesInstance:this._includesInstance=new s.TwitterV2IncludesHelper(this._realData):new s.TwitterV2IncludesHelper(this._realData)}get errors(){var e;return null!==(e=this._realData.errors)&&void 0!==e?e:[]}get unusable(){return this.errors.length>0&&!this._realData.meta&&!this._realData.data}}t.TwitterV2Paginator=n;t.TimelineV2Paginator=class extends n{refreshInstanceFromResult(e,t){var r;const s=e.data,i=null!==(r=s.data)&&void 0!==r?r:[];this._rateLimit=e.rateLimit,this._realData.data||(this._realData.data=[]),t?(this._realData.meta.result_count+=s.meta.result_count,this._realData.meta.next_token=s.meta.next_token,this._realData.data.push(...i)):(this._realData.meta.result_count+=s.meta.result_count,this._realData.meta.previous_token=s.meta.previous_token,this._realData.data.unshift(...i)),this.updateIncludes(s)}getNextQueryParams(e){return this.assertUsable(),{...this.injectQueryParams(e),pagination_token:this._realData.meta.next_token}}getPreviousQueryParams(e){return this.assertUsable(),{...this.injectQueryParams(e),pagination_token:this._realData.meta.previous_token}}getPageLengthFromRequest(e){var t,r;return null!==(r=null===(t=e.data.data)||void 0===t?void 0:t.length)&&void 0!==r?r:0}isFetchLastOver(e){var t;return!(null===(t=e.data.data)||void 0===t?void 0:t.length)||!this.canFetchNextPage(e.data)}canFetchNextPage(e){var t;return!!(null===(t=e.meta)||void 0===t?void 0:t.next_token)}}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.WelcomeDmV1Paginator=t.DmEventsV1Paginator=void 0;const s=r(4);class i extends s.CursoredV1Paginator{constructor(){super(...arguments),this._endpoint=\"direct_messages/events/list.json\"}refreshInstanceFromResult(e,t){const r=e.data;this._rateLimit=e.rateLimit,t&&(this._realData.events.push(...r.events),this._realData.next_cursor=r.next_cursor)}getPageLengthFromRequest(e){return e.data.events.length}getItemArray(){return this.events}get events(){return this._realData.events}}t.DmEventsV1Paginator=i;class n extends s.CursoredV1Paginator{constructor(){super(...arguments),this._endpoint=\"direct_messages/welcome_messages/list.json\"}refreshInstanceFromResult(e,t){const r=e.data;this._rateLimit=e.rateLimit,t&&(this._realData.welcome_messages.push(...r.welcome_messages),this._realData.next_cursor=r.next_cursor)}getPageLengthFromRequest(e){return e.data.welcome_messages.length}getItemArray(){return this.welcomeMessages}get welcomeMessages(){return this._realData.welcome_messages}}t.WelcomeDmV1Paginator=n},function(e,t,r){\"use strict\";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,\"default\",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)\"default\"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&s(t,e,r);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0});const o=r(0),u=a(r(14)),c=r(1),l=n(r(25)),d=r(69),h=r(2);class p extends u.default{constructor(){super(...arguments),this._prefix=o.API_V1_1_PREFIX}get readOnly(){return this}tweet(e,t={}){const r={status:e,tweet_mode:\"extended\",...t};return this.post(\"statuses/update.json\",r)}async quote(e,t,r={}){const s=\"https://twitter.com/i/statuses/\"+t;return this.tweet(e,{...r,attachment_url:s})}async tweetThread(e){const t=[];for(const r of e){const e=t.length?t[t.length-1]:null,s={...\"string\"==typeof r?{status:r}:r},i=e?e.id_str:s.in_reply_to_status_id,n=s.status;i?t.push(await this.reply(n,i,s)):t.push(await this.tweet(n,s))}return t}reply(e,t,r={}){return this.tweet(e,{auto_populate_reply_metadata:!0,in_reply_to_status_id:t,...r})}deleteTweet(e){return this.post(\"statuses/destroy/:id.json\",{tweet_mode:\"extended\"},{params:{id:e}})}reportUserAsSpam(e){return this.post(\"users/report_spam.json\",{tweet_mode:\"extended\",...e})}updateFriendship(e){return this.post(\"friendships/update.json\",e)}updateAccountSettings(e){return this.post(\"account/settings.json\",e)}updateAccountProfile(e){return this.post(\"account/update_profile.json\",e)}async updateAccountProfileBanner(e,t={}){const r={banner:await d.readFileIntoBuffer(e),...t};return this.post(\"account/update_profile_banner.json\",r,{forceBodyMode:\"form-data\"})}async updateAccountProfileImage(e,t={}){const r={tweet_mode:\"extended\",image:await d.readFileIntoBuffer(e),...t};return this.post(\"account/update_profile_image.json\",r,{forceBodyMode:\"form-data\"})}removeAccountProfileBanner(){return this.post(\"account/remove_profile_banner.json\")}createList(e){return this.post(\"lists/create.json\",{tweet_mode:\"extended\",...e})}updateList(e){return this.post(\"lists/update.json\",{tweet_mode:\"extended\",...e})}removeList(e){return this.post(\"lists/destroy.json\",{tweet_mode:\"extended\",...e})}addListMembers(e){const t=e.user_id&&h.hasMultipleItems(e.user_id)||e.screen_name&&h.hasMultipleItems(e.screen_name)?\"lists/members/create_all.json\":\"lists/members/create.json\";return this.post(t,e)}removeListMembers(e){const t=e.user_id&&h.hasMultipleItems(e.user_id)||e.screen_name&&h.hasMultipleItems(e.screen_name)?\"lists/members/destroy_all.json\":\"lists/members/destroy.json\";return this.post(t,e)}subscribeToList(e){return this.post(\"lists/subscribers/create.json\",{tweet_mode:\"extended\",...e})}unsubscribeOfList(e){return this.post(\"lists/subscribers/destroy.json\",{tweet_mode:\"extended\",...e})}createMediaMetadata(e,t){return this.post(\"media/metadata/create.json\",{media_id:e,...t},{prefix:o.API_V1_1_UPLOAD_PREFIX,forceBodyMode:\"json\"})}createMediaSubtitles(e,t){return this.post(\"media/subtitles/create.json\",{media_id:e,media_category:\"TweetVideo\",subtitle_info:{subtitles:t}},{prefix:o.API_V1_1_UPLOAD_PREFIX,forceBodyMode:\"json\"})}deleteMediaSubtitles(e,...t){return this.post(\"media/subtitles/delete.json\",{media_id:e,media_category:\"TweetVideo\",subtitle_info:{subtitles:t.map(e=>({language_code:e}))}},{prefix:o.API_V1_1_UPLOAD_PREFIX,forceBodyMode:\"json\"})}async uploadMedia(e,t={}){var r;const s=null!==(r=t.chunkLength)&&void 0!==r?r:1048576,{fileHandle:i,mediaCategory:n,fileSize:a,mimeType:u}=await this.getUploadMediaRequirements(e,t);try{const r=await this.post(\"media/upload.json\",{command:\"INIT\",total_bytes:a,media_type:u,media_category:n,additional_owners:t.additionalOwners,shared:!!t.shared||void 0},{prefix:o.API_V1_1_UPLOAD_PREFIX});await this.mediaChunkedUpload(i,s,r.media_id_string,t.maxConcurrentUploads);const c=await this.post(\"media/upload.json\",{command:\"FINALIZE\",media_id:r.media_id_string},{prefix:o.API_V1_1_UPLOAD_PREFIX});return c.processing_info&&\"succeeded\"!==c.processing_info.state&&await this.awaitForMediaProcessingCompletion(c),c.media_id_string}finally{\"number\"==typeof e?l.close(e,()=>{}):\"object\"!=typeof i||i instanceof Buffer||i.close()}}async awaitForMediaProcessingCompletion(e){for(;;){e=await this.mediaInfo(e.media_id_string);const{processing_info:t}=e;if(!t||\"succeeded\"===t.state)return;if(\"failed\"===t.state){if(t.error){const{name:e,message:r}=t.error;throw new Error(`Failed to process media: ${e} - ${r}.`)}throw new Error(\"Failed to process the media.\")}t.check_after_secs?await d.sleepSecs(t.check_after_secs):await d.sleepSecs(5)}}async getUploadMediaRequirements(e,{mimeType:t,type:r,target:s,longVideo:i}={}){let n;try{n=await d.getFileHandle(e);const a=d.getMimeType(e,r,t);let o;return o=a!==c.EUploadMimeType.Mp4||(t||r||\"dm\"===s)&&!i?d.getMediaCategoryByMime(a,null!=s?s:\"tweet\"):\"amplify_video\",{fileHandle:n,mediaCategory:o,fileSize:await d.getFileSizeFromFileHandle(n),mimeType:a}}catch(t){throw\"number\"==typeof e?l.close(e,()=>{}):\"object\"!=typeof n||n instanceof Buffer||n.close(),t}}async mediaChunkedUpload(e,t,r,s=3){let i=0;if(s<1)throw new RangeError(\"Bad maxConcurrentUploads parameter.\");const n=e instanceof Buffer?void 0:Buffer.alloc(t);let a,u,c=0;[a,u]=await d.readNextPartOf(e,t,c,n),c+=u;const l=new Set;for(;u;){const h=a.slice(0,u);if(h.length){const e=this.post(\"media/upload.json\",{command:\"APPEND\",media_id:r,segment_index:i,media:h},{prefix:o.API_V1_1_UPLOAD_PREFIX});l.add(e),e.then(()=>{l.delete(e)}),i++}l.size>=s&&await Promise.race(l),[a,u]=await d.readNextPartOf(e,t,c,n),c+=u}await Promise.all([...l])}}t.default=p},function(e,t,r){\"use strict\";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0});const i=s(r(7)),n=r(0),a=r(2),o=s(r(6)),u=r(21),c=r(22),l=r(23),d=r(24);class h extends i.default{constructor(){super(...arguments),this._prefix=n.API_V1_1_PREFIX}singleTweet(e,t={}){return this.get(\"statuses/show.json\",{tweet_mode:\"extended\",id:e,...t})}tweets(e,t={}){return this.post(\"statuses/lookup.json\",{tweet_mode:\"extended\",id:e,...t})}oembedTweet(e,t={}){return this.get(\"oembed\",{url:\"https://twitter.com/i/statuses/\"+e,...t},{prefix:\"https://publish.twitter.com/\"})}async homeTimeline(e={}){const t={tweet_mode:\"extended\",...e},r=await this.get(\"statuses/home_timeline.json\",t,{fullResponse:!0});return new u.HomeTimelineV1Paginator({realData:r.data,rateLimit:r.rateLimit,instance:this,queryParams:t})}async mentionTimeline(e={}){const t={tweet_mode:\"extended\",...e},r=await this.get(\"statuses/mentions_timeline.json\",t,{fullResponse:!0});return new u.MentionTimelineV1Paginator({realData:r.data,rateLimit:r.rateLimit,instance:this,queryParams:t})}async userTimeline(e,t={}){const r={tweet_mode:\"extended\",user_id:e,...t},s=await this.get(\"statuses/user_timeline.json\",r,{fullResponse:!0});return new u.UserTimelineV1Paginator({realData:s.data,rateLimit:s.rateLimit,instance:this,queryParams:r})}async userTimelineByUsername(e,t={}){const r={tweet_mode:\"extended\",screen_name:e,...t},s=await this.get(\"statuses/user_timeline.json\",r,{fullResponse:!0});return new u.UserTimelineV1Paginator({realData:s.data,rateLimit:s.rateLimit,instance:this,queryParams:r})}user(e){return this.get(\"users/show.json\",{tweet_mode:\"extended\",...e})}users(e){return this.get(\"users/lookup.json\",{tweet_mode:\"extended\",...e})}verifyCredentials(e={}){return this.get(\"account/verify_credentials.json\",e)}async listMutedUsers(e={}){const t={tweet_mode:\"extended\",...e},r=await this.get(\"mutes/users/list.json\",t,{fullResponse:!0});return new c.MuteUserListV1Paginator({realData:r.data,rateLimit:r.rateLimit,instance:this,queryParams:t})}async listMutedUserIds(e={}){const t={stringify_ids:!0,...e},r=await this.get(\"mutes/users/ids.json\",t,{fullResponse:!0});return new c.MuteUserIdsV1Paginator({realData:r.data,rateLimit:r.rateLimit,instance:this,queryParams:t})}async searchUsers(e,t={}){const r={q:e,tweet_mode:\"extended\",page:1,...t},s=await this.get(\"users/search.json\",r,{fullResponse:!0});return new l.UserSearchV1Paginator({realData:s.data,rateLimit:s.rateLimit,instance:this,queryParams:r})}friendship(e){return this.get(\"friendships/show.json\",e)}friendships(e){return this.get(\"friendships/lookup.json\",e)}friendshipsNoRetweets(){return this.get(\"friendships/no_retweets/ids.json\",{stringify_ids:!0})}async friendshipsIncoming(e={}){const t={stringify_ids:!0,...e},r=await this.get(\"friendships/incoming.json\",t,{fullResponse:!0});return new l.FriendshipsIncomingV1Paginator({realData:r.data,rateLimit:r.rateLimit,instance:this,queryParams:t})}async friendshipsOutgoing(e={}){const t={stringify_ids:!0,...e},r=await this.get(\"friendships/outgoing.json\",t,{fullResponse:!0});return new l.FriendshipsOutgoingV1Paginator({realData:r.data,rateLimit:r.rateLimit,instance:this,queryParams:t})}accountSettings(){return this.get(\"account/settings.json\")}userProfileBannerSizes(e){return this.get(\"users/profile_banner.json\",e)}list(e){return this.get(\"lists/show.json\",{tweet_mode:\"extended\",...e})}lists(e={}){return this.get(\"lists/list.json\",{tweet_mode:\"extended\",...e})}async listMembers(e={}){const t={tweet_mode:\"extended\",...e},r=await this.get(\"lists/members.json\",t,{fullResponse:!0});return new d.ListMembersV1Paginator({realData:r.data,rateLimit:r.rateLimit,instance:this,queryParams:t})}listGetMember(e){return this.get(\"lists/members/show.json\",{tweet_mode:\"extended\",...e})}async listMemberships(e={}){const t={tweet_mode:\"extended\",...e},r=await this.get(\"lists/memberships.json\",t,{fullResponse:!0});return new d.ListMembershipsV1Paginator({realData:r.data,rateLimit:r.rateLimit,instance:this,queryParams:t})}async listOwnerships(e={}){const t={tweet_mode:\"extended\",...e},r=await this.get(\"lists/ownerships.json\",t,{fullResponse:!0});return new d.ListOwnershipsV1Paginator({realData:r.data,rateLimit:r.rateLimit,instance:this,queryParams:t})}async listStatuses(e){const t={tweet_mode:\"extended\",...e},r=await this.get(\"lists/statuses.json\",t,{fullResponse:!0});return new u.ListTimelineV1Paginator({realData:r.data,rateLimit:r.rateLimit,instance:this,queryParams:t})}async listSubscribers(e={}){const t={tweet_mode:\"extended\",...e},r=await this.get(\"lists/subscribers.json\",t,{fullResponse:!0});return new d.ListSubscribersV1Paginator({realData:r.data,rateLimit:r.rateLimit,instance:this,queryParams:t})}listGetSubscriber(e){return this.get(\"lists/subscribers/show.json\",{tweet_mode:\"extended\",...e})}async listSubscriptions(e={}){const t={tweet_mode:\"extended\",...e},r=await this.get(\"lists/subscriptions.json\",t,{fullResponse:!0});return new d.ListSubscriptionsV1Paginator({realData:r.data,rateLimit:r.rateLimit,instance:this,queryParams:t})}mediaInfo(e){return this.get(\"media/upload.json\",{command:\"STATUS\",media_id:e},{prefix:n.API_V1_1_UPLOAD_PREFIX})}filterStream({autoConnect:e,...t}={}){const r={};for(const[e,s]of Object.entries(t))if(\"follow\"===e||\"track\"===e)r[e]=s.toString();else if(\"locations\"===e){const e=s;r.locations=a.arrayWrap(e).map(e=>`${e.lng},${e.lat}`).join(\",\")}else r[e]=s;return this.stream.postStream(\"statuses/filter.json\",r,{autoConnect:e})}sampleStream({autoConnect:e,...t}={}){return this.stream.getStream(\"statuses/sample.json\",t,{autoConnect:e})}get stream(){const e=new o.default(this);return e.setPrefix(n.API_V1_1_STREAM_PREFIX),e}trendsByPlace(e,t={}){return this.get(\"trends/place.json\",{id:e,...t})}trendsAvailable(){return this.get(\"trends/available.json\")}trendsClosest(e,t){return this.get(\"trends/closest.json\",{lat:e,long:t})}geoPlace(e){return this.get(\"geo/id/:place_id.json\",void 0,{params:{place_id:e}})}geoSearch(e){return this.get(\"geo/search.json\",e)}geoReverseGeoCode(e){return this.get(\"geo/reverse_geocode.json\",e)}rateLimitStatuses(...e){return this.get(\"application/rate_limit_status.json\",{resources:e})}supportedLanguages(){return this.get(\"help/languages.json\")}}t.default=h},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const s=r(62),i=r(2),n=r(0);class a{constructor(e,t={}){this._currentUser=null,this._currentUserV2=null,e instanceof a?this._requestMaker=e._requestMaker:(this._requestMaker=new s.ClientRequestMaker(t),this._requestMaker.initializeToken(e))}setPrefix(e){this._prefix=e}cloneWithPrefix(e){const t=this.constructor(this);return t.setPrefix(e),t}getActiveTokens(){return this._requestMaker.getActiveTokens()}getPlugins(){return this._requestMaker.getPlugins()}getPluginOfType(e){return this.getPlugins().find(t=>t instanceof e)}hasHitRateLimit(e){var t;return!this.isRateLimitStatusObsolete(e)&&0===(null===(t=this.getLastRateLimitStatus(e))||void 0===t?void 0:t.remaining)}isRateLimitStatusObsolete(e){const t=this.getLastRateLimitStatus(e);return void 0===t||1e3*t.reset<Date.now()}getLastRateLimitStatus(e){const t=e.match(/^https?:\\/\\//)?e:this._prefix+e;return this._requestMaker.getRateLimits()[t]}getCurrentUserObject(e=!1){return!e&&this._currentUser?this._currentUser.value?Promise.resolve(this._currentUser.value):this._currentUser.promise:(this._currentUser=i.sharedPromise(()=>this.get(\"account/verify_credentials.json\",{tweet_mode:\"extended\"},{prefix:n.API_V1_1_PREFIX})),this._currentUser.promise)}getCurrentUserV2Object(e=!1){return!e&&this._currentUserV2?this._currentUserV2.value?Promise.resolve(this._currentUserV2.value):this._currentUserV2.promise:(this._currentUserV2=i.sharedPromise(()=>this.get(\"users/me\",void 0,{prefix:n.API_V2_PREFIX})),this._currentUserV2.promise)}async get(e,t={},{fullResponse:r,prefix:s=this._prefix,...i}={}){s&&(e=s+e);const n=await this._requestMaker.send({url:e,method:\"GET\",query:t,...i});return r?n:n.data}async delete(e,t={},{fullResponse:r,prefix:s=this._prefix,...i}={}){s&&(e=s+e);const n=await this._requestMaker.send({url:e,method:\"DELETE\",query:t,...i});return r?n:n.data}async post(e,t,{fullResponse:r,prefix:s=this._prefix,...i}={}){s&&(e=s+e);const n=await this._requestMaker.send({url:e,method:\"POST\",body:t,...i});return r?n:n.data}async put(e,t,{fullResponse:r,prefix:s=this._prefix,...i}={}){s&&(e=s+e);const n=await this._requestMaker.send({url:e,method:\"PUT\",body:t,...i});return r?n:n.data}async patch(e,t,{fullResponse:r,prefix:s=this._prefix,...i}={}){s&&(e=s+e);const n=await this._requestMaker.send({url:e,method:\"PATCH\",body:t,...i});return r?n:n.data}getStream(e,t,{prefix:r=this._prefix,...s}={}){return this._requestMaker.sendStream({url:r?r+e:e,method:\"GET\",query:t,...s})}postStream(e,t,{prefix:r=this._prefix,...s}={}){return this._requestMaker.sendStream({url:r?r+e:e,method:\"POST\",body:t,...s})}}t.default=a},function(e,t,r){\"use strict\";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,\"default\",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)\"default\"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&s(t,e,r);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.RequestHandlerHelper=void 0;const o=r(63),u=r(10),c=a(r(8)),l=r(1),d=n(r(64));class h{constructor(e){this.requestData=e,this.requestErrorHandled=!1,this.responseData=[]}get hrefPathname(){const e=this.requestData.url;return e.hostname+e.pathname}isCompressionDisabled(){return!this.requestData.compression||\"identity\"===this.requestData.compression}isFormEncodedEndpoint(){return this.requestData.url.href.startsWith(\"https://api.twitter.com/oauth/\")}createRequestError(e){return u.TwitterApiV2Settings.debug&&u.TwitterApiV2Settings.logger.log(\"Request error:\",e),new l.ApiRequestError(\"Request failed.\",{request:this.req,error:e})}createPartialResponseError(e,t){let r=\"Request failed with partial response with HTTP code \"+this.res.statusCode;return r+=t?\" (connection abruptly closed)\":\" (parse error)\",new l.ApiPartialResponseError(r,{request:this.req,response:this.res,responseError:e,rawContent:Buffer.concat(this.responseData).toString()})}formatV1Errors(e){return e.map(({code:e,message:t})=>`${t} (Twitter code ${e})`).join(\", \")}formatV2Error(e){return`${e.title}: ${e.detail} (see ${e.type})`}createResponseError({res:e,data:t,rateLimit:r,code:s}){var i;u.TwitterApiV2Settings.debug&&(u.TwitterApiV2Settings.logger.log(`Request failed with code ${s}, data:`,t),u.TwitterApiV2Settings.logger.log(\"Response headers:\",e.headers));let n=\"Request failed with code \"+s;if(null===(i=null==t?void 0:t.errors)||void 0===i?void 0:i.length){const e=t.errors;\"code\"in e[0]?n+=\" - \"+this.formatV1Errors(e):n+=\" - \"+this.formatV2Error(t)}return new l.ApiResponseError(n,{code:s,data:t,headers:e.headers,request:this.req,response:e,rateLimit:r})}getResponseDataStream(e){if(this.isCompressionDisabled())return e;const t=(e.headers[\"content-encoding\"]||\"identity\").trim().toLowerCase();if(\"br\"===t){const t=d.createBrotliDecompress({flush:d.constants.BROTLI_OPERATION_FLUSH,finishFlush:d.constants.BROTLI_OPERATION_FLUSH});return e.pipe(t),t}if(\"gzip\"===t){const t=d.createGunzip({flush:d.constants.Z_SYNC_FLUSH,finishFlush:d.constants.Z_SYNC_FLUSH});return e.pipe(t),t}if(\"deflate\"===t){const t=d.createInflate({flush:d.constants.Z_SYNC_FLUSH,finishFlush:d.constants.Z_SYNC_FLUSH});return e.pipe(t),t}return e}detectResponseType(e){var t,r;return(null===(t=e.headers[\"content-type\"])||void 0===t?void 0:t.includes(\"application/json\"))||(null===(r=e.headers[\"content-type\"])||void 0===r?void 0:r.includes(\"application/problem+json\"))?\"json\":this.isFormEncodedEndpoint()?\"url\":\"text\"}getParsedResponse(e){const t=this.responseData,r=this.requestData.forceParseMode||this.detectResponseType(e);if(\"buffer\"===r)return Buffer.concat(t);if(\"text\"===r)return Buffer.concat(t).toString();if(\"json\"===r){const e=Buffer.concat(t).toString();return e.length?JSON.parse(e):void 0}if(\"url\"===r){const e=Buffer.concat(t).toString(),r={};for(const[t,s]of new URLSearchParams(e))r[t]=s;return r}}getRateLimitFromResponse(e){let t=void 0;return e.headers[\"x-rate-limit-limit\"]&&(t={limit:Number(e.headers[\"x-rate-limit-limit\"]),remaining:Number(e.headers[\"x-rate-limit-remaining\"]),reset:Number(e.headers[\"x-rate-limit-reset\"])},this.requestData.rateLimitSaver&&this.requestData.rateLimitSaver(t)),t}onSocketEventHandler(e,t){t.on(\"close\",this.onSocketCloseHandler.bind(this,e))}onSocketCloseHandler(e){this.req.removeAllListeners(\"timeout\");if(!this.res)return this.requestErrorHandled?void 0:e(this.createRequestError(new Error(\"Socket closed without any information.\")))}requestErrorHandler(e,t){var r,s;null===(s=(r=this.requestData).requestEventDebugHandler)||void 0===s||s.call(r,\"request-error\",{requestError:t}),this.requestErrorHandled=!0,e(this.createRequestError(t))}timeoutErrorHandler(){this.requestErrorHandled=!0,this.req.destroy(new Error(\"Request timeout.\"))}classicResponseHandler(e,t,r){this.res=r;const s=this.getResponseDataStream(r);s.on(\"data\",e=>this.responseData.push(e)),s.on(\"end\",this.onResponseEndHandler.bind(this,e,t)),s.on(\"close\",this.onResponseCloseHandler.bind(this,e,t)),this.requestData.requestEventDebugHandler&&(this.requestData.requestEventDebugHandler(\"response\",{res:r}),r.on(\"aborted\",e=>this.requestData.requestEventDebugHandler(\"response-aborted\",{error:e})),r.on(\"error\",e=>this.requestData.requestEventDebugHandler(\"response-error\",{error:e})),r.on(\"close\",()=>this.requestData.requestEventDebugHandler(\"response-close\",{data:this.responseData})),r.on(\"end\",()=>this.requestData.requestEventDebugHandler(\"response-end\")))}onResponseEndHandler(e,t){const r=this.getRateLimitFromResponse(this.res);let s;try{s=this.getParsedResponse(this.res)}catch(e){return void t(this.createPartialResponseError(e,!1))}const i=this.res.statusCode;i>=400?t(this.createResponseError({data:s,res:this.res,rateLimit:r,code:i})):(u.TwitterApiV2Settings.debug&&(u.TwitterApiV2Settings.logger.log(`[${this.requestData.options.method} ${this.hrefPathname}]: Request succeeds with code ${this.res.statusCode}`),u.TwitterApiV2Settings.logger.log(\"Response body:\",s)),e({data:s,headers:this.res.headers,rateLimit:r}))}onResponseCloseHandler(e,t){const r=this.res;if(r.aborted)try{return this.getParsedResponse(this.res),this.onResponseEndHandler(e,t)}catch(e){return t(this.createPartialResponseError(e,!0))}if(!r.complete)return t(this.createPartialResponseError(new Error(\"Response has been interrupted before response could be parsed.\"),!0))}streamResponseHandler(e,t,r){if(r.statusCode<400){u.TwitterApiV2Settings.debug&&u.TwitterApiV2Settings.logger.log(`[${this.requestData.options.method} ${this.hrefPathname}]: Request succeeds with code ${r.statusCode} (starting stream)`);const t=this.getResponseDataStream(r);e({req:this.req,res:t,originalResponse:r,requestData:this.requestData})}else this.classicResponseHandler(()=>{},t,r)}debugRequest(){const e=this.requestData.url;u.TwitterApiV2Settings.logger.log(`[${this.requestData.options.method} ${this.hrefPathname}]`,this.requestData.options),e.search&&u.TwitterApiV2Settings.logger.log(\"Request parameters:\",[...e.searchParams.entries()].map(([e,t])=>`${e}: ${t}`)),this.requestData.body&&u.TwitterApiV2Settings.logger.log(\"Request body:\",this.requestData.body)}buildRequest(){var e;const t=this.requestData.url,r=t.username?`${t.username}:${t.password}`:void 0,s=null!==(e=this.requestData.options.headers)&&void 0!==e?e:{};!0===this.requestData.compression||\"brotli\"===this.requestData.compression?s[\"accept-encoding\"]=\"br;q=1.0, gzip;q=0.8, deflate;q=0.5, *;q=0.1\":\"gzip\"===this.requestData.compression?s[\"accept-encoding\"]=\"gzip;q=1, deflate;q=0.5, *;q=0.1\":\"deflate\"===this.requestData.compression&&(s[\"accept-encoding\"]=\"deflate;q=1, *;q=0.1\"),u.TwitterApiV2Settings.debug&&this.debugRequest(),this.req=o.request({...this.requestData.options,host:t.hostname,port:t.port||void 0,path:t.pathname+t.search,protocol:t.protocol,auth:r,headers:s})}registerRequestEventDebugHandlers(e){e.on(\"close\",()=>this.requestData.requestEventDebugHandler(\"close\")),e.on(\"abort\",()=>this.requestData.requestEventDebugHandler(\"abort\")),e.on(\"socket\",e=>{this.requestData.requestEventDebugHandler(\"socket\",{socket:e}),e.on(\"error\",t=>this.requestData.requestEventDebugHandler(\"socket-error\",{socket:e,error:t})),e.on(\"connect\",()=>this.requestData.requestEventDebugHandler(\"socket-connect\",{socket:e})),e.on(\"close\",t=>this.requestData.requestEventDebugHandler(\"socket-close\",{socket:e,withError:t})),e.on(\"end\",()=>this.requestData.requestEventDebugHandler(\"socket-end\",{socket:e})),e.on(\"lookup\",(...t)=>this.requestData.requestEventDebugHandler(\"socket-lookup\",{socket:e,data:t})),e.on(\"timeout\",()=>this.requestData.requestEventDebugHandler(\"socket-timeout\",{socket:e}))})}makeRequest(){return this.buildRequest(),new Promise((e,t)=>{const r=this.req;r.on(\"error\",this.requestErrorHandler.bind(this,t)),r.on(\"socket\",this.onSocketEventHandler.bind(this,t)),r.on(\"response\",this.classicResponseHandler.bind(this,e,t)),this.requestData.options.timeout&&r.on(\"timeout\",this.timeoutErrorHandler.bind(this)),this.requestData.requestEventDebugHandler&&this.registerRequestEventDebugHandlers(r),this.requestData.body&&r.write(this.requestData.body),r.end()})}async makeRequestAsStream(){const{req:e,res:t,requestData:r,originalResponse:s}=await this.makeRequestAndResolveWhenReady();return new c.default(r,{req:e,res:t,originalResponse:s})}makeRequestAndResolveWhenReady(){return this.buildRequest(),new Promise((e,t)=>{const r=this.req;r.on(\"error\",this.requestErrorHandler.bind(this,t)),r.on(\"response\",this.streamResponseHandler.bind(this,e,t)),this.requestData.body&&r.write(this.requestData.body),r.end()})}}t.RequestHandlerHelper=h,t.default=h},function(e,t,r){\"use strict\";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,\"default\",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)\"default\"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&s(t,e,r);return i(t,e),t};Object.defineProperty(t,\"__esModule\",{value:!0}),t.OAuth1Helper=void 0;const a=n(r(18));class o{constructor(e){this.nonceLength=32,this.consumerKeys=e.consumerKeys}static percentEncode(e){return encodeURIComponent(e).replace(/!/g,\"%21\").replace(/\\*/g,\"%2A\").replace(/'/g,\"%27\").replace(/\\(/g,\"%28\").replace(/\\)/g,\"%29\")}hash(e,t){return a.createHmac(\"sha1\",t).update(e).digest(\"base64\")}authorize(e,t={}){const r={oauth_consumer_key:this.consumerKeys.key,oauth_nonce:this.getNonce(),oauth_signature_method:\"HMAC-SHA1\",oauth_timestamp:this.getTimestamp(),oauth_version:\"1.0\"};return void 0!==t.key&&(r.oauth_token=t.key),e.data||(e.data={}),r.oauth_signature=this.getSignature(e,t.secret,r),r}toHeader(e){const t=c(e);let r=\"OAuth \";for(const e of t)0===e.key.indexOf(\"oauth_\")&&(r+=o.percentEncode(e.key)+'=\"'+o.percentEncode(e.value)+'\",');return{Authorization:r.slice(0,r.length-1)}}getNonce(){const e=\"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\";let t=\"\";for(let r=0;r<this.nonceLength;r++)t+=e[Math.trunc(Math.random()*e.length)];return t}getTimestamp(){return Math.trunc((new Date).getTime()/1e3)}getSignature(e,t,r){return this.hash(this.getBaseString(e,r),this.getSigningKey(t))}getSigningKey(e){return o.percentEncode(this.consumerKeys.secret)+\"&\"+o.percentEncode(e||\"\")}getBaseString(e,t){return e.method.toUpperCase()+\"&\"+o.percentEncode(this.getBaseUrl(e.url))+\"&\"+o.percentEncode(this.getParameterString(e,t))}getParameterString(e,t){const r=c(function(e){const t={};for(const r in e){let s=e[r];s=s&&Array.isArray(s)?s.map(e=>o.percentEncode(e)):o.percentEncode(s),t[o.percentEncode(r)]=s}return t}(u(t,u(e.data,function(e){const t=e.split(\"?\");return 1===t.length?{}:function(e){const t=e.split(\"&\"),r={};for(const e of t){const[t,s=\"\"]=e.split(\"=\");r[t]?(Array.isArray(r[t])||(r[t]=[r[t]]),r[t].push(decodeURIComponent(s))):r[t]=decodeURIComponent(s)}return r}(t[1])}(e.url)))));let s=\"\";for(const{key:e,value:t}of r)if(t&&Array.isArray(t)){t.sort();let r=\"\";t.forEach((s,i)=>{r+=e+\"=\"+s,i<t.length&&(r+=\"&\")}),s+=r}else s+=e+\"=\"+t+\"&\";return s.slice(0,s.length-1)}getBaseUrl(e){return e.split(\"?\")[0]}}function u(e,t){return{...e||{},...t||{}}}function c(e){return Object.keys(e).sort().map(t=>({key:t,value:e[t]}))}t.OAuth1Helper=o,t.default=o},function(e,t){e.exports=require(\"crypto\")},function(e,t,r){\"use strict\";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.RequestParamHelpers=void 0;const i=r(68),n=s(r(17));class a{static formatQueryToString(e){const t={};for(const r in e)\"string\"==typeof e[r]?t[r]=e[r]:void 0!==e[r]&&(t[r]=String(e[r]));return t}static autoDetectBodyType(e){if(e.pathname.startsWith(\"/2/\")||e.pathname.startsWith(\"/labs/2/\"))return e.password.startsWith(\"/2/oauth2\")?\"url\":\"json\";if(\"upload.twitter.com\"===e.hostname)return\"/1.1/media/upload.json\"===e.pathname?\"form-data\":\"json\";const t=e.pathname.split(\"/1.1/\",2)[1];return this.JSON_1_1_ENDPOINTS.has(t)?\"json\":\"url\"}static addQueryParamsToUrl(e,t){const r=Object.entries(t);if(r.length){let t=\"\";for(const[e,s]of r)t+=(t.length?\"&\":\"?\")+`${n.default.percentEncode(e)}=${n.default.percentEncode(s)}`;e.search=t}}static constructBodyParams(e,t,r){if(e instanceof Buffer)return e;if(\"json\"===r)return t[\"content-type\"]=\"application/json;charset=UTF-8\",JSON.stringify(e);if(\"url\"===r)return t[\"content-type\"]=\"application/x-www-form-urlencoded;charset=UTF-8\",Object.keys(e).length?new URLSearchParams(e).toString().replace(/\\*/g,\"%2A\"):\"\";if(\"raw\"===r)throw new Error(\"You can only use raw body mode with Buffers. To give a string, use Buffer.from(str).\");{const r=new i.FormDataHelper;for(const t in e)r.append(t,e[t]);const s=r.getHeaders();return t[\"content-type\"]=s[\"content-type\"],r.getBuffer()}}static setBodyLengthHeader(e,t){var r;e.headers=null!==(r=e.headers)&&void 0!==r?r:{},e.headers[\"content-length\"]=\"string\"==typeof t?Buffer.byteLength(t):t.length}static isOAuthSerializable(e){return!(e instanceof Buffer)}static mergeQueryAndBodyForOAuth(e,t){const r={};for(const t in e)r[t]=e[t];if(this.isOAuthSerializable(t))for(const e in t){const s=t[e];this.isOAuthSerializable(s)&&(r[e]=\"object\"==typeof s&&null!==s&&\"toString\"in s?s.toString():s)}return r}static moveUrlQueryParamsIntoObject(e,t){for(const[r,s]of e.searchParams)t[r]=s;return e.search=\"\",e}static applyRequestParametersToUrl(e,t){return e.pathname=e.pathname.replace(/:([A-Z_-]+)/gi,(e,r)=>void 0!==t[r]?String(t[r]):e),e}}t.RequestParamHelpers=a,a.JSON_1_1_ENDPOINTS=new Set([\"direct_messages/events/new.json\",\"direct_messages/welcome_messages/new.json\",\"direct_messages/welcome_messages/rules/new.json\",\"media/metadata/create.json\",\"collections/entries/curate.json\"]),t.default=a},function(e,t,r){\"use strict\";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,\"default\",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)\"default\"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&s(t,e,r);return i(t,e),t};Object.defineProperty(t,\"__esModule\",{value:!0}),t.OAuth2Helper=void 0;const a=n(r(18));t.OAuth2Helper=class{static getCodeVerifier(){return this.generateRandomString(128)}static getCodeChallengeFromVerifier(e){return this.escapeBase64Url(a.createHash(\"sha256\").update(e).digest(\"base64\"))}static getAuthHeader(e,t){const r=encodeURIComponent(e)+\":\"+encodeURIComponent(t);return Buffer.from(r).toString(\"base64\")}static generateRandomString(e){let t=\"\";const r=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~\";for(let s=0;s<e;s++)t+=r[Math.floor(Math.random()*r.length)];return t}static escapeBase64Url(e){return e.replace(/=/g,\"\").replace(/\\+/g,\"-\").replace(/\\//g,\"_\")}}},function(e,t,r){\"use strict\";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.ListTimelineV1Paginator=t.UserTimelineV1Paginator=t.MentionTimelineV1Paginator=t.HomeTimelineV1Paginator=void 0;const i=s(r(3));class n extends i.default{constructor(){super(...arguments),this.hasFinishedFetch=!1}refreshInstanceFromResult(e,t){const r=e.data;this._rateLimit=e.rateLimit,t&&(this._realData.push(...r),this.hasFinishedFetch=0===r.length)}getNextQueryParams(e){const t=BigInt(this._realData[this._realData.length-1].id_str);return{...this.injectQueryParams(e),max_id:(t-BigInt(1)).toString()}}getPageLengthFromRequest(e){return e.data.length}isFetchLastOver(e){return!e.data.length}canFetchNextPage(e){return e.length>0}getItemArray(){return this.tweets}get tweets(){return this._realData}get done(){return super.done||this.hasFinishedFetch}}t.HomeTimelineV1Paginator=class extends n{constructor(){super(...arguments),this._endpoint=\"statuses/home_timeline.json\"}};t.MentionTimelineV1Paginator=class extends n{constructor(){super(...arguments),this._endpoint=\"statuses/mentions_timeline.json\"}};t.UserTimelineV1Paginator=class extends n{constructor(){super(...arguments),this._endpoint=\"statuses/user_timeline.json\"}};t.ListTimelineV1Paginator=class extends n{constructor(){super(...arguments),this._endpoint=\"lists/statuses.json\"}}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.MuteUserIdsV1Paginator=t.MuteUserListV1Paginator=void 0;const s=r(4);class i extends s.CursoredV1Paginator{constructor(){super(...arguments),this._endpoint=\"mutes/users/list.json\"}refreshInstanceFromResult(e,t){const r=e.data;this._rateLimit=e.rateLimit,t&&(this._realData.users.push(...r.users),this._realData.next_cursor=r.next_cursor)}getPageLengthFromRequest(e){return e.data.users.length}getItemArray(){return this.users}get users(){return this._realData.users}}t.MuteUserListV1Paginator=i;class n extends s.CursoredV1Paginator{constructor(){super(...arguments),this._endpoint=\"mutes/users/ids.json\",this._maxResultsWhenFetchLast=5e3}refreshInstanceFromResult(e,t){const r=e.data;this._rateLimit=e.rateLimit,t&&(this._realData.ids.push(...r.ids),this._realData.next_cursor=r.next_cursor)}getPageLengthFromRequest(e){return e.data.ids.length}getItemArray(){return this.ids}get ids(){return this._realData.ids}}t.MuteUserIdsV1Paginator=n},function(e,t,r){\"use strict\";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.FriendshipsOutgoingV1Paginator=t.FriendshipsIncomingV1Paginator=t.UserSearchV1Paginator=void 0;const i=s(r(3)),n=r(4);class a extends i.default{constructor(){super(...arguments),this._endpoint=\"users/search.json\"}refreshInstanceFromResult(e,t){const r=e.data;this._rateLimit=e.rateLimit,t&&this._realData.push(...r)}getNextQueryParams(e){var t;const r=Number(null!==(t=this._queryParams.page)&&void 0!==t?t:\"1\");return{...this._queryParams,page:r+1,...e?{count:e}:{}}}getPageLengthFromRequest(e){return e.data.length}isFetchLastOver(e){return!e.data.length}canFetchNextPage(e){return e.length>0}getItemArray(){return this.users}get users(){return this._realData}}t.UserSearchV1Paginator=a;class o extends n.CursoredV1Paginator{constructor(){super(...arguments),this._endpoint=\"friendships/incoming.json\",this._maxResultsWhenFetchLast=5e3}refreshInstanceFromResult(e,t){const r=e.data;this._rateLimit=e.rateLimit,t&&(this._realData.ids.push(...r.ids),this._realData.next_cursor=r.next_cursor)}getPageLengthFromRequest(e){return e.data.ids.length}getItemArray(){return this.ids}get ids(){return this._realData.ids}}t.FriendshipsIncomingV1Paginator=o;t.FriendshipsOutgoingV1Paginator=class extends o{constructor(){super(...arguments),this._endpoint=\"friendships/outgoing.json\"}}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.ListSubscribersV1Paginator=t.ListMembersV1Paginator=t.ListSubscriptionsV1Paginator=t.ListOwnershipsV1Paginator=t.ListMembershipsV1Paginator=void 0;const s=r(4);class i extends s.CursoredV1Paginator{refreshInstanceFromResult(e,t){const r=e.data;this._rateLimit=e.rateLimit,t&&(this._realData.lists.push(...r.lists),this._realData.next_cursor=r.next_cursor)}getPageLengthFromRequest(e){return e.data.lists.length}getItemArray(){return this.lists}get lists(){return this._realData.lists}}t.ListMembershipsV1Paginator=class extends i{constructor(){super(...arguments),this._endpoint=\"lists/memberships.json\"}};t.ListOwnershipsV1Paginator=class extends i{constructor(){super(...arguments),this._endpoint=\"lists/ownerships.json\"}};t.ListSubscriptionsV1Paginator=class extends i{constructor(){super(...arguments),this._endpoint=\"lists/subscriptions.json\"}};class n extends s.CursoredV1Paginator{refreshInstanceFromResult(e,t){const r=e.data;this._rateLimit=e.rateLimit,t&&(this._realData.users.push(...r.users),this._realData.next_cursor=r.next_cursor)}getPageLengthFromRequest(e){return e.data.users.length}getItemArray(){return this.users}get users(){return this._realData.users}}t.ListMembersV1Paginator=class extends n{constructor(){super(...arguments),this._endpoint=\"lists/members.json\"}};t.ListSubscribersV1Paginator=class extends n{constructor(){super(...arguments),this._endpoint=\"lists/subscribers.json\"}}},function(e,t){e.exports=require(\"fs\")},function(e,t,r){\"use strict\";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.TwitterApiv2=void 0;const i=r(0),n=s(r(27)),a=s(r(34));class o extends n.default{constructor(){super(...arguments),this._prefix=i.API_V2_PREFIX}get readWrite(){return this}get labs(){return this._labs?this._labs:this._labs=new a.default(this)}}t.TwitterApiv2=o,t.default=o},function(e,t,r){\"use strict\";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0});const i=r(0),n=s(r(28)),a=s(r(33));class o extends n.default{constructor(){super(...arguments),this._prefix=i.API_V2_PREFIX}get readOnly(){return this}get labs(){return this._labs?this._labs:this._labs=new a.default(this)}hideReply(e,t){return this.put(\"tweets/:id/hidden\",{hidden:t},{params:{id:e}})}like(e,t){return this.post(\"users/:id/likes\",{tweet_id:t},{params:{id:e}})}unlike(e,t){return this.delete(\"users/:id/likes/:tweet_id\",void 0,{params:{id:e,tweet_id:t}})}retweet(e,t){return this.post(\"users/:id/retweets\",{tweet_id:t},{params:{id:e}})}unretweet(e,t){return this.delete(\"users/:id/retweets/:tweet_id\",void 0,{params:{id:e,tweet_id:t}})}tweet(e,t={}){return t=\"object\"==typeof e?e:{text:e,...t},this.post(\"tweets\",t)}reply(e,t,r={}){var s;const i={in_reply_to_tweet_id:t,...null!==(s=r.reply)&&void 0!==s?s:{}};return this.post(\"tweets\",{text:e,...r,reply:i})}quote(e,t,r={}){return this.tweet(e,{...r,quote_tweet_id:t})}async tweetThread(e){var t,r;const s=[];for(const i of e){const e=s.length?s[s.length-1]:null,n={...\"string\"==typeof i?{text:i}:i},a=e?e.data.id:null===(t=n.reply)||void 0===t?void 0:t.in_reply_to_tweet_id,o=null!==(r=n.text)&&void 0!==r?r:\"\";a?s.push(await this.reply(o,a,n)):s.push(await this.tweet(o,n))}return s}deleteTweet(e){return this.delete(\"tweets/:id\",void 0,{params:{id:e}})}async bookmark(e){const t=await this.getCurrentUserV2Object();return this.post(\"users/:id/bookmarks\",{tweet_id:e},{params:{id:t.data.id}})}async deleteBookmark(e){const t=await this.getCurrentUserV2Object();return this.delete(\"users/:id/bookmarks/:tweet_id\",void 0,{params:{id:t.data.id,tweet_id:e}})}follow(e,t){return this.post(\"users/:id/following\",{target_user_id:t},{params:{id:e}})}unfollow(e,t){return this.delete(\"users/:source_user_id/following/:target_user_id\",void 0,{params:{source_user_id:e,target_user_id:t}})}block(e,t){return this.post(\"users/:id/blocking\",{target_user_id:t},{params:{id:e}})}unblock(e,t){return this.delete(\"users/:source_user_id/blocking/:target_user_id\",void 0,{params:{source_user_id:e,target_user_id:t}})}mute(e,t){return this.post(\"users/:id/muting\",{target_user_id:t},{params:{id:e}})}unmute(e,t){return this.delete(\"users/:source_user_id/muting/:target_user_id\",void 0,{params:{source_user_id:e,target_user_id:t}})}createList(e){return this.post(\"lists\",e)}updateList(e,t={}){return this.put(\"lists/:id\",t,{params:{id:e}})}removeList(e){return this.delete(\"lists/:id\",void 0,{params:{id:e}})}addListMember(e,t){return this.post(\"lists/:id/members\",{user_id:t},{params:{id:e}})}removeListMember(e,t){return this.delete(\"lists/:id/members/:user_id\",void 0,{params:{id:e,user_id:t}})}subscribeToList(e,t){return this.post(\"users/:id/followed_lists\",{list_id:t},{params:{id:e}})}unsubscribeOfList(e,t){return this.delete(\"users/:id/followed_lists/:list_id\",void 0,{params:{id:e,list_id:t}})}pinList(e,t){return this.post(\"users/:id/pinned_lists\",{list_id:t},{params:{id:e}})}unpinList(e,t){return this.delete(\"users/:id/pinned_lists/:list_id\",void 0,{params:{id:e,list_id:t}})}}t.default=o},function(e,t,r){\"use strict\";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0});const i=s(r(7)),n=r(0),a=r(29),o=s(r(32)),u=r(31),c=r(2);class l extends i.default{constructor(){super(...arguments),this._prefix=n.API_V2_PREFIX}get labs(){return this._labs?this._labs:this._labs=new o.default(this)}async search(e,t={}){const r={...\"object\"==typeof e&&null!==e?e:t,query:\"string\"==typeof e?e:void 0},s=await this.get(\"tweets/search/recent\",r,{fullResponse:!0});return new a.TweetSearchRecentV2Paginator({realData:s.data,rateLimit:s.rateLimit,instance:this,queryParams:r})}async searchAll(e,t={}){const r={...t,query:e},s=await this.get(\"tweets/search/all\",r,{fullResponse:!0});return new a.TweetSearchAllV2Paginator({realData:s.data,rateLimit:s.rateLimit,instance:this,queryParams:r})}singleTweet(e,t={}){return this.get(\"tweets/:id\",t,{params:{id:e}})}tweets(e,t={}){return this.get(\"tweets\",{ids:e,...t})}tweetCountRecent(e,t={}){return this.get(\"tweets/counts/recent\",{query:e,...t})}tweetCountAll(e,t={}){return this.get(\"tweets/counts/all\",{query:e,...t})}async tweetRetweetedBy(e,t={}){const{asPaginator:r,...s}=t,i=await this.get(\"tweets/:id/retweeted_by\",s,{fullResponse:!0,params:{id:e}});return r?new u.TweetRetweetersUsersV2Paginator({realData:i.data,rateLimit:i.rateLimit,instance:this,queryParams:s,sharedParams:{id:e}}):i.data}async tweetLikedBy(e,t={}){const{asPaginator:r,...s}=t,i=await this.get(\"tweets/:id/liking_users\",s,{fullResponse:!0,params:{id:e}});return r?new u.TweetLikingUsersV2Paginator({realData:i.data,rateLimit:i.rateLimit,instance:this,queryParams:s,sharedParams:{id:e}}):i.data}async userTimeline(e,t={}){const r=await this.get(\"users/:id/tweets\",t,{fullResponse:!0,params:{id:e}});return new a.TweetUserTimelineV2Paginator({realData:r.data,rateLimit:r.rateLimit,instance:this,queryParams:t,sharedParams:{id:e}})}async userMentionTimeline(e,t={}){const r=await this.get(\"users/:id/mentions\",t,{fullResponse:!0,params:{id:e}});return new a.TweetUserMentionTimelineV2Paginator({realData:r.data,rateLimit:r.rateLimit,instance:this,queryParams:t,sharedParams:{id:e}})}async quotes(e,t={}){const r=await this.get(\"tweets/:id/quote_tweets\",t,{fullResponse:!0,params:{id:e}});return new a.QuotedTweetsTimelineV2Paginator({realData:r.data,rateLimit:r.rateLimit,instance:this,queryParams:t,sharedParams:{id:e}})}async bookmarks(e={}){const t=await this.getCurrentUserV2Object(),r=await this.get(\"users/:id/bookmarks\",e,{fullResponse:!0,params:{id:t.data.id}});return new a.TweetBookmarksTimelineV2Paginator({realData:r.data,rateLimit:r.rateLimit,instance:this,queryParams:e,sharedParams:{id:t.data.id}})}me(e={}){return this.get(\"users/me\",e)}user(e,t={}){return this.get(\"users/:id\",t,{params:{id:e}})}users(e,t={}){const r=Array.isArray(e)?e.join(\",\"):e;return this.get(\"users\",{...t,ids:r})}userByUsername(e,t={}){return this.get(\"users/by/username/:username\",t,{params:{username:e}})}usersByUsernames(e,t={}){return e=Array.isArray(e)?e.join(\",\"):e,this.get(\"users/by\",{...t,usernames:e})}async followers(e,t={}){const{asPaginator:r,...s}=t,i={id:e};if(!r)return this.get(\"users/:id/followers\",s,{params:i});const n=await this.get(\"users/:id/followers\",s,{fullResponse:!0,params:i});return new u.UserFollowersV2Paginator({realData:n.data,rateLimit:n.rateLimit,instance:this,queryParams:s,sharedParams:i})}async following(e,t={}){const{asPaginator:r,...s}=t,i={id:e};if(!r)return this.get(\"users/:id/following\",s,{params:i});const n=await this.get(\"users/:id/following\",s,{fullResponse:!0,params:i});return new u.UserFollowingV2Paginator({realData:n.data,rateLimit:n.rateLimit,instance:this,queryParams:s,sharedParams:i})}async userLikedTweets(e,t={}){const r={id:e},s=await this.get(\"users/:id/liked_tweets\",t,{fullResponse:!0,params:r});return new a.TweetV2UserLikedTweetsPaginator({realData:s.data,rateLimit:s.rateLimit,instance:this,queryParams:{...t},sharedParams:r})}async userBlockingUsers(e,t={}){const r={id:e},s=await this.get(\"users/:id/blocking\",t,{fullResponse:!0,params:r});return new u.UserBlockingUsersV2Paginator({realData:s.data,rateLimit:s.rateLimit,instance:this,queryParams:{...t},sharedParams:r})}async userMutingUsers(e,t={}){const r={id:e},s=await this.get(\"users/:id/muting\",t,{fullResponse:!0,params:r});return new u.UserMutingUsersV2Paginator({realData:s.data,rateLimit:s.rateLimit,instance:this,queryParams:{...t},sharedParams:r})}list(e,t={}){return this.get(\"lists/:id\",t,{params:{id:e}})}async listsOwned(e,t={}){const r={id:e},s=await this.get(\"users/:id/owned_lists\",t,{fullResponse:!0,params:r});return new a.UserOwnedListsV2Paginator({realData:s.data,rateLimit:s.rateLimit,instance:this,queryParams:{...t},sharedParams:r})}async listMemberships(e,t={}){const r={id:e},s=await this.get(\"users/:id/list_memberships\",t,{fullResponse:!0,params:r});return new a.UserListMembershipsV2Paginator({realData:s.data,rateLimit:s.rateLimit,instance:this,queryParams:{...t},sharedParams:r})}async listFollowed(e,t={}){const r={id:e},s=await this.get(\"users/:id/followed_lists\",t,{fullResponse:!0,params:r});return new a.UserListFollowedV2Paginator({realData:s.data,rateLimit:s.rateLimit,instance:this,queryParams:{...t},sharedParams:r})}async listTweets(e,t={}){const r={id:e},s=await this.get(\"lists/:id/tweets\",t,{fullResponse:!0,params:r});return new a.TweetV2ListTweetsPaginator({realData:s.data,rateLimit:s.rateLimit,instance:this,queryParams:{...t},sharedParams:r})}async listMembers(e,t={}){const r={id:e},s=await this.get(\"lists/:id/members\",t,{fullResponse:!0,params:r});return new u.UserListMembersV2Paginator({realData:s.data,rateLimit:s.rateLimit,instance:this,queryParams:{...t},sharedParams:r})}async listFollowers(e,t={}){const r={id:e},s=await this.get(\"lists/:id/followers\",t,{fullResponse:!0,params:r});return new u.UserListFollowersV2Paginator({realData:s.data,rateLimit:s.rateLimit,instance:this,queryParams:{...t},sharedParams:r})}space(e,t={}){return this.get(\"spaces/:id\",t,{params:{id:e}})}spaces(e,t={}){return this.get(\"spaces\",{ids:e,...t})}spacesByCreators(e,t={}){return this.get(\"spaces/by/creator_ids\",{user_ids:e,...t})}searchSpaces(e){return this.get(\"spaces/search\",e)}spaceBuyers(e,t={}){return this.get(\"spaces/:id/buyers\",t,{params:{id:e}})}searchStream({autoConnect:e,...t}={}){return this.getStream(\"tweets/search/stream\",t,{payloadIsError:c.isTweetStreamV2ErrorPayload,autoConnect:e})}streamRules(e={}){return this.get(\"tweets/search/stream/rules\",e)}updateStreamRules(e,t={}){return this.post(\"tweets/search/stream/rules\",e,{query:t})}sampleStream({autoConnect:e,...t}={}){return this.getStream(\"tweets/sample/stream\",t,{payloadIsError:c.isTweetStreamV2ErrorPayload,autoConnect:e})}complianceJobs(e){return this.get(\"compliance/jobs\",e)}complianceJob(e){return this.get(\"compliance/jobs/:id\",void 0,{params:{id:e}})}async sendComplianceJob(e){const t=await this.post(\"compliance/jobs\",{type:e.type,name:e.name}),r=e.ids instanceof Buffer?e.ids:Buffer.from(e.ids.join(\"\\n\"));return await this.put(t.data.upload_url,r,{forceBodyMode:\"raw\",enableAuth:!1,headers:{\"Content-Type\":\"text/plain\"},prefix:\"\"}),t}async complianceJobResult(e){let t=e;for(;\"complete\"!==t.status;){if(\"expired\"===t.status||\"failed\"===t.status)throw new Error(\"Job failed to be completed.\");await new Promise(e=>setTimeout(e,3500)),t=(await this.complianceJob(e.id)).data}return(await this.get(e.download_url,void 0,{enableAuth:!1,prefix:\"\"})).trim().split(\"\\n\").filter(e=>e).map(e=>JSON.parse(e))}}t.default=l},function(e,t,r){\"use strict\";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(70),t),i(r(3),t),i(r(12),t),i(r(22),t),i(r(21),t),i(r(23),t),i(r(31),t),i(r(24),t),i(r(71),t)},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.TwitterV2IncludesHelper=void 0;class s{constructor(e){this.result=e}get tweets(){return s.tweets(this.result)}static tweets(e){var t,r;return null!==(r=null===(t=e.includes)||void 0===t?void 0:t.tweets)&&void 0!==r?r:[]}tweetById(e){return s.tweetById(this.result,e)}static tweetById(e,t){return this.tweets(e).find(e=>e.id===t)}retweet(e){return s.retweet(this.result,e)}static retweet(e,t){var r;const s=(null!==(r=t.referenced_tweets)&&void 0!==r?r:[]).filter(e=>\"retweeted\"===e.type).map(e=>e.id);return this.tweets(e).find(e=>s.includes(e.id))}quote(e){return s.quote(this.result,e)}static quote(e,t){var r;const s=(null!==(r=t.referenced_tweets)&&void 0!==r?r:[]).filter(e=>\"quoted\"===e.type).map(e=>e.id);return this.tweets(e).find(e=>s.includes(e.id))}repliedTo(e){return s.repliedTo(this.result,e)}static repliedTo(e,t){var r;const s=(null!==(r=t.referenced_tweets)&&void 0!==r?r:[]).filter(e=>\"replied_to\"===e.type).map(e=>e.id);return this.tweets(e).find(e=>s.includes(e.id))}author(e){return s.author(this.result,e)}static author(e,t){const r=t.author_id;return r?this.users(e).find(e=>e.id===r):void 0}repliedToAuthor(e){return s.repliedToAuthor(this.result,e)}static repliedToAuthor(e,t){const r=t.in_reply_to_user_id;return r?this.users(e).find(e=>e.id===r):void 0}get users(){return s.users(this.result)}static users(e){var t,r;return null!==(r=null===(t=e.includes)||void 0===t?void 0:t.users)&&void 0!==r?r:[]}userById(e){return s.userById(this.result,e)}static userById(e,t){return this.users(e).find(e=>e.id===t)}pinnedTweet(e){return s.pinnedTweet(this.result,e)}static pinnedTweet(e,t){return t.pinned_tweet_id?this.tweets(e).find(e=>e.id===t.pinned_tweet_id):void 0}get media(){return s.media(this.result)}static media(e){var t,r;return null!==(r=null===(t=e.includes)||void 0===t?void 0:t.media)&&void 0!==r?r:[]}medias(e){return s.medias(this.result,e)}static medias(e,t){var r,s;const i=null!==(s=null===(r=t.attachments)||void 0===r?void 0:r.media_keys)&&void 0!==s?s:[];return this.media(e).filter(e=>i.includes(e.media_key))}get polls(){return s.polls(this.result)}static polls(e){var t,r;return null!==(r=null===(t=e.includes)||void 0===t?void 0:t.polls)&&void 0!==r?r:[]}poll(e){return s.poll(this.result,e)}static poll(e,t){var r,s;const i=null!==(s=null===(r=t.attachments)||void 0===r?void 0:r.poll_ids)&&void 0!==s?s:[];if(i.length){const t=i[0];return this.polls(e).find(e=>e.id===t)}}get places(){return s.places(this.result)}static places(e){var t,r;return null!==(r=null===(t=e.includes)||void 0===t?void 0:t.places)&&void 0!==r?r:[]}place(e){return s.place(this.result,e)}static place(e,t){var r;const s=null===(r=t.geo)||void 0===r?void 0:r.place_id;return s?this.places(e).find(e=>e.id===s):void 0}listOwner(e){return s.listOwner(this.result,e)}static listOwner(e,t){const r=t.owner_id;return r?this.users(e).find(e=>e.id===r):void 0}spaceCreator(e){return s.spaceCreator(this.result,e)}static spaceCreator(e,t){const r=t.creator_id;return r?this.users(e).find(e=>e.id===r):void 0}spaceHosts(e){return s.spaceHosts(this.result,e)}static spaceHosts(e,t){var r;const s=null!==(r=t.host_ids)&&void 0!==r?r:[];return this.users(e).filter(e=>s.includes(e.id))}spaceSpeakers(e){return s.spaceSpeakers(this.result,e)}static spaceSpeakers(e,t){var r;const s=null!==(r=t.speaker_ids)&&void 0!==r?r:[];return this.users(e).filter(e=>s.includes(e.id))}spaceInvitedUsers(e){return s.spaceInvitedUsers(this.result,e)}static spaceInvitedUsers(e,t){var r;const s=null!==(r=t.invited_user_ids)&&void 0!==r?r:[];return this.users(e).filter(e=>s.includes(e.id))}}t.TwitterV2IncludesHelper=s},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.TweetRetweetersUsersV2Paginator=t.TweetLikingUsersV2Paginator=t.UserListFollowersV2Paginator=t.UserListMembersV2Paginator=t.UserFollowingV2Paginator=t.UserFollowersV2Paginator=t.UserMutingUsersV2Paginator=t.UserBlockingUsersV2Paginator=void 0;const s=r(11);class i extends s.TimelineV2Paginator{getItemArray(){return this.users}get users(){var e;return null!==(e=this._realData.data)&&void 0!==e?e:[]}get meta(){return super.meta}}t.UserBlockingUsersV2Paginator=class extends i{constructor(){super(...arguments),this._endpoint=\"users/:id/blocking\"}};t.UserMutingUsersV2Paginator=class extends i{constructor(){super(...arguments),this._endpoint=\"users/:id/muting\"}};t.UserFollowersV2Paginator=class extends i{constructor(){super(...arguments),this._endpoint=\"users/:id/followers\"}};t.UserFollowingV2Paginator=class extends i{constructor(){super(...arguments),this._endpoint=\"users/:id/following\"}};t.UserListMembersV2Paginator=class extends i{constructor(){super(...arguments),this._endpoint=\"lists/:id/members\"}};t.UserListFollowersV2Paginator=class extends i{constructor(){super(...arguments),this._endpoint=\"lists/:id/followers\"}};t.TweetLikingUsersV2Paginator=class extends i{constructor(){super(...arguments),this._endpoint=\"tweets/:id/liking_users\"}};t.TweetRetweetersUsersV2Paginator=class extends i{constructor(){super(...arguments),this._endpoint=\"tweets/:id/retweeted_by\"}}},function(e,t,r){\"use strict\";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0});const i=s(r(7)),n=r(0);class a extends i.default{constructor(){super(...arguments),this._prefix=n.API_V2_LABS_PREFIX}}t.default=a},function(e,t,r){\"use strict\";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0});const i=r(0),n=s(r(32));class a extends n.default{constructor(){super(...arguments),this._prefix=i.API_V2_LABS_PREFIX}get readOnly(){return this}}t.default=a},function(e,t,r){\"use strict\";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.TwitterApiv2Labs=void 0;const i=r(0),n=s(r(33));class a extends n.default{constructor(){super(...arguments),this._prefix=i.API_V2_LABS_PREFIX}get readWrite(){return this}}t.TwitterApiv2Labs=a,t.default=a},function(e,t,r){\"use strict\";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0});const i=s(r(13)),n=s(r(27)),a=s(r(36));class o extends a.default{get v1(){return this._v1?this._v1:this._v1=new i.default(this)}get v2(){return this._v2?this._v2:this._v2=new n.default(this)}get readOnly(){return this}}t.default=o},function(e,t,r){\"use strict\";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0});const i=s(r(5)),n=s(r(15)),a=s(r(14)),o=s(r(28)),u=r(20),c=s(r(19));class l extends n.default{get v1(){return this._v1?this._v1:this._v1=new a.default(this)}get v2(){return this._v2?this._v2:this._v2=new o.default(this)}async currentUser(e=!1){return await this.getCurrentUserObject(e)}async currentUserV2(e=!1){return await this.getCurrentUserV2Object(e)}search(e,t){return this.v2.search(e,t)}async generateAuthLink(e=\"oob\",{authAccessType:t,linkMode:r=\"authenticate\",forceLogin:s,screenName:i}={}){const n=await this.post(\"https://api.twitter.com/oauth/request_token\",{oauth_callback:e,x_auth_access_type:t});let a=`https://api.twitter.com/oauth/${r}?oauth_token=${encodeURIComponent(n.oauth_token)}`;return void 0!==s&&(a+=\"&force_login=\"+encodeURIComponent(s)),void 0!==i&&(a+=\"&screen_name=\"+encodeURIComponent(i)),this._requestMaker.hasPlugins()&&this._requestMaker.applyPluginMethod(\"onOAuth1RequestToken\",{client:this._requestMaker,url:a,oauthResult:n}),{url:a,...n}}async login(e){const t=this.getActiveTokens();if(\"oauth-1.0a\"!==t.type)throw new Error(\"You must setup TwitterApi instance with consumer keys to accept OAuth 1.0 login\");const r=await this.post(\"https://api.twitter.com/oauth/access_token\",{oauth_token:t.accessToken,oauth_verifier:e}),s=new i.default({appKey:t.appKey,appSecret:t.appSecret,accessToken:r.oauth_token,accessSecret:r.oauth_token_secret},this._requestMaker.clientSettings);return{accessToken:r.oauth_token,accessSecret:r.oauth_token_secret,userId:r.user_id,screenName:r.screen_name,client:s}}async appLogin(){const e=this.getActiveTokens();if(\"oauth-1.0a\"!==e.type)throw new Error(\"You must setup TwitterApi instance with consumer keys to accept app-only login\");const t=new i.default({username:e.appKey,password:e.appSecret}),r=await t.post(\"https://api.twitter.com/oauth2/token\",{grant_type:\"client_credentials\"});return new i.default(r.access_token,this._requestMaker.clientSettings)}generateOAuth2AuthLink(e,t={}){var r,s;if(!this._requestMaker.clientId)throw new Error(\"Twitter API instance is not initialized with client ID. You can find your client ID in Twitter Developer Portal. Please build an instance with: new TwitterApi({ clientId: '<yourClientId>' })\");const i=null!==(r=t.state)&&void 0!==r?r:u.OAuth2Helper.generateRandomString(32),n=u.OAuth2Helper.getCodeVerifier(),a=u.OAuth2Helper.getCodeChallengeFromVerifier(n),o=null!==(s=t.scope)&&void 0!==s?s:\"\",l=Array.isArray(o)?o.join(\" \"):o,d=new URL(\"https://twitter.com/i/oauth2/authorize\"),h={response_type:\"code\",client_id:this._requestMaker.clientId,redirect_uri:e,state:i,code_challenge:a,code_challenge_method:\"s256\",scope:l};c.default.addQueryParamsToUrl(d,h);const p={url:d.toString(),state:i,codeVerifier:n,codeChallenge:a};return this._requestMaker.hasPlugins()&&this._requestMaker.applyPluginMethod(\"onOAuth2RequestToken\",{client:this._requestMaker,result:p,redirectUri:e}),p}async loginWithOAuth2({code:e,codeVerifier:t,redirectUri:r}){if(!this._requestMaker.clientId)throw new Error(\"Twitter API instance is not initialized with client ID. Please build an instance with: new TwitterApi({ clientId: '<yourClientId>' })\");const s=await this.post(\"https://api.twitter.com/2/oauth2/token\",{code:e,code_verifier:t,redirect_uri:r,grant_type:\"authorization_code\",client_id:this._requestMaker.clientId,client_secret:this._requestMaker.clientSecret});return this.parseOAuth2AccessTokenResult(s)}async refreshOAuth2Token(e){if(!this._requestMaker.clientId)throw new Error(\"Twitter API instance is not initialized with client ID. Please build an instance with: new TwitterApi({ clientId: '<yourClientId>' })\");const t=await this.post(\"https://api.twitter.com/2/oauth2/token\",{refresh_token:e,grant_type:\"refresh_token\",client_id:this._requestMaker.clientId,client_secret:this._requestMaker.clientSecret});return this.parseOAuth2AccessTokenResult(t)}async revokeOAuth2Token(e,t=\"access_token\"){if(!this._requestMaker.clientId)throw new Error(\"Twitter API instance is not initialized with client ID. Please build an instance with: new TwitterApi({ clientId: '<yourClientId>' })\");return await this.post(\"https://api.twitter.com/2/oauth2/revoke\",{client_id:this._requestMaker.clientId,client_secret:this._requestMaker.clientSecret,token:e,token_type_hint:t})}parseOAuth2AccessTokenResult(e){const t=new i.default(e.access_token,this._requestMaker.clientSettings),r=e.scope.split(\" \").filter(e=>e);return{client:t,expiresIn:e.expires_in,accessToken:e.access_token,scope:r,refreshToken:e.refresh_token}}}t.default=l},function(e,t,r){\"use strict\";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var a=r(5);Object.defineProperty(t,\"default\",{enumerable:!0,get:function(){return n(a).default}}),i(r(5),t),i(r(6),t),i(r(26),t),i(r(30),t),i(r(34),t),i(r(1),t),i(r(29),t),i(r(8),t),i(r(10),t)},function(e,t,r){\"use strict\";r.r(t);var s=r(37);exports.handler=async(e,t)=>{console.log(e.body);const r=new s.TwitterApi({appKey:\"Y7OvP8zD1MDTWA88g8LidKrBx\",appSecret:\"o87AxD1rJ4olGa5BjRZh61GOmrEXUIUJGPZek2cfXlvlXVWE3H\",accessToken:\"1368495682986803202-apyO0hB5vkE7pkEkTqdM5ee5fL1iNd\",accessSecret:\"fO3WAU7sld434wsq7O0ltxeNgcafvgivkopm7YygoWHur\"}).readWrite,i=await r.v2.tweet(\"\\n https://nishiyu.net/#/articles/1qY8qIDlPdMflNH4MqUYrY\");return console.log(i),{statusCode:200}}},function(e,t,r){\"use strict\";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(40),t),i(r(41),t),i(r(42),t),i(r(43),t),i(r(44),t),i(r(45),t),i(r(46),t),i(r(47),t),i(r(48),t)},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0})},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.EUploadMimeType=void 0,function(e){e.Jpeg=\"image/jpeg\",e.Mp4=\"video/mp4\",e.Gif=\"image/gif\",e.Png=\"image/png\",e.Srt=\"text/plain\",e.Webp=\"image/webp\"}(t.EUploadMimeType||(t.EUploadMimeType={}))},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0})},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0})},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0})},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0})},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0})},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.EDirectMessageEventTypeV1=void 0,function(e){e.Create=\"message_create\",e.WelcomeCreate=\"welcome_message\"}(t.EDirectMessageEventTypeV1||(t.EDirectMessageEventTypeV1={}))},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0})},function(e,t,r){\"use strict\";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(50),t),i(r(51),t),i(r(52),t),i(r(53),t),i(r(54),t),i(r(55),t)},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0})},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0})},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0})},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0})},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0})},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0})},function(e,t,r){\"use strict\";var s,i;Object.defineProperty(t,\"__esModule\",{value:!0}),t.EApiV2ErrorCode=t.EApiV1ErrorCode=t.ApiResponseError=t.ApiPartialResponseError=t.ApiRequestError=t.ETwitterApiError=void 0,function(e){e.Request=\"request\",e.PartialResponse=\"partial-response\",e.Response=\"response\"}(s=t.ETwitterApiError||(t.ETwitterApiError={}));class n extends Error{constructor(){super(...arguments),this.error=!0}}t.ApiRequestError=class extends n{constructor(e,t){super(e),this.type=s.Request,Error.captureStackTrace(this,this.constructor),Object.defineProperty(this,\"_options\",{value:t})}get request(){return this._options.request}get requestError(){return this._options.requestError}toJSON(){return{type:this.type,error:this.requestError}}};t.ApiPartialResponseError=class extends n{constructor(e,t){super(e),this.type=s.PartialResponse,Error.captureStackTrace(this,this.constructor),Object.defineProperty(this,\"_options\",{value:t})}get request(){return this._options.request}get response(){return this._options.response}get responseError(){return this._options.responseError}get rawContent(){return this._options.rawContent}toJSON(){return{type:this.type,error:this.responseError}}};t.ApiResponseError=class extends n{constructor(e,t){super(e),this.type=s.Response,Error.captureStackTrace(this,this.constructor),Object.defineProperty(this,\"_options\",{value:t}),this.code=t.code,this.headers=t.headers,this.rateLimit=t.rateLimit,this.data=t.data}get request(){return this._options.request}get response(){return this._options.response}hasErrorCode(...e){const t=this.errors;if(!(null==t?void 0:t.length))return!1;if(\"code\"in t[0]){return t.some(t=>e.includes(t.code))}const r=this.data;return e.includes(r.type)}get errors(){var e;return null===(e=this.data)||void 0===e?void 0:e.errors}get rateLimitError(){return 420===this.code||429===this.code}get isAuthError(){return 401===this.code||this.hasErrorCode(i.AuthTimestampInvalid,i.AuthenticationFail,i.BadAuthenticationData,i.InvalidOrExpiredToken)}toJSON(){return{type:this.type,code:this.code,error:this.data,rateLimit:this.rateLimit,headers:this.headers}}},function(e){e[e.InvalidCoordinates=3]=\"InvalidCoordinates\",e[e.NoLocationFound=13]=\"NoLocationFound\",e[e.AuthenticationFail=32]=\"AuthenticationFail\",e[e.InvalidOrExpiredToken=89]=\"InvalidOrExpiredToken\",e[e.UnableToVerifyCredentials=99]=\"UnableToVerifyCredentials\",e[e.AuthTimestampInvalid=135]=\"AuthTimestampInvalid\",e[e.BadAuthenticationData=215]=\"BadAuthenticationData\",e[e.NoUserMatch=17]=\"NoUserMatch\",e[e.UserNotFound=50]=\"UserNotFound\",e[e.ResourceNotFound=34]=\"ResourceNotFound\",e[e.TweetNotFound=144]=\"TweetNotFound\",e[e.TweetNotVisible=179]=\"TweetNotVisible\",e[e.NotAllowedResource=220]=\"NotAllowedResource\",e[e.MediaIdNotFound=325]=\"MediaIdNotFound\",e[e.TweetNoLongerAvailable=421]=\"TweetNoLongerAvailable\",e[e.TweetViolatedRules=422]=\"TweetViolatedRules\",e[e.TargetUserSuspended=63]=\"TargetUserSuspended\",e[e.YouAreSuspended=64]=\"YouAreSuspended\",e[e.AccountUpdateFailed=120]=\"AccountUpdateFailed\",e[e.NoSelfSpamReport=36]=\"NoSelfSpamReport\",e[e.NoSelfMute=271]=\"NoSelfMute\",e[e.AccountLocked=326]=\"AccountLocked\",e[e.RateLimitExceeded=88]=\"RateLimitExceeded\",e[e.NoDMRightForApp=93]=\"NoDMRightForApp\",e[e.OverCapacity=130]=\"OverCapacity\",e[e.InternalError=131]=\"InternalError\",e[e.TooManyFollowings=161]=\"TooManyFollowings\",e[e.TweetLimitExceeded=185]=\"TweetLimitExceeded\",e[e.DuplicatedTweet=187]=\"DuplicatedTweet\",e[e.TooManySpamReports=205]=\"TooManySpamReports\",e[e.RequestLooksLikeSpam=226]=\"RequestLooksLikeSpam\",e[e.NoWriteRightForApp=261]=\"NoWriteRightForApp\",e[e.TweetActionsDisabled=425]=\"TweetActionsDisabled\",e[e.TweetRepliesRestricted=433]=\"TweetRepliesRestricted\",e[e.NamedParameterMissing=38]=\"NamedParameterMissing\",e[e.InvalidAttachmentUrl=44]=\"InvalidAttachmentUrl\",e[e.TweetTextTooLong=186]=\"TweetTextTooLong\",e[e.MissingUrlParameter=195]=\"MissingUrlParameter\",e[e.NoMultipleGifs=323]=\"NoMultipleGifs\",e[e.InvalidMediaIds=324]=\"InvalidMediaIds\",e[e.InvalidUrl=407]=\"InvalidUrl\",e[e.TooManyTweetAttachments=386]=\"TooManyTweetAttachments\",e[e.StatusAlreadyFavorited=139]=\"StatusAlreadyFavorited\",e[e.FollowRequestAlreadySent=160]=\"FollowRequestAlreadySent\",e[e.CannotUnmuteANonMutedAccount=272]=\"CannotUnmuteANonMutedAccount\",e[e.TweetAlreadyRetweeted=327]=\"TweetAlreadyRetweeted\",e[e.ReplyToDeletedTweet=385]=\"ReplyToDeletedTweet\",e[e.DMReceiverNotFollowingYou=150]=\"DMReceiverNotFollowingYou\",e[e.UnableToSendDM=151]=\"UnableToSendDM\",e[e.MustAllowDMFromAnyone=214]=\"MustAllowDMFromAnyone\",e[e.CannotSendDMToThisUser=349]=\"CannotSendDMToThisUser\",e[e.DMTextTooLong=354]=\"DMTextTooLong\",e[e.SubscriptionAlreadyExists=355]=\"SubscriptionAlreadyExists\",e[e.CallbackUrlNotApproved=415]=\"CallbackUrlNotApproved\",e[e.SuspendedApplication=416]=\"SuspendedApplication\",e[e.OobOauthIsNotAllowed=417]=\"OobOauthIsNotAllowed\"}(i=t.EApiV1ErrorCode||(t.EApiV1ErrorCode={})),function(e){e.InvalidRequest=\"https://api.twitter.com/2/problems/invalid-request\",e.ClientForbidden=\"https://api.twitter.com/2/problems/client-forbidden\",e.UnsupportedAuthentication=\"https://api.twitter.com/2/problems/unsupported-authentication\",e.InvalidRules=\"https://api.twitter.com/2/problems/invalid-rules\",e.TooManyRules=\"https://api.twitter.com/2/problems/rule-cap\",e.DuplicatedRules=\"https://api.twitter.com/2/problems/duplicate-rules\",e.RateLimitExceeded=\"https://api.twitter.com/2/problems/usage-capped\",e.ConnectionError=\"https://api.twitter.com/2/problems/streaming-connection\",e.ClientDisconnected=\"https://api.twitter.com/2/problems/client-disconnected\",e.TwitterDisconnectedYou=\"https://api.twitter.com/2/problems/operational-disconnect\",e.ResourceNotFound=\"https://api.twitter.com/2/problems/resource-not-found\",e.ResourceUnauthorized=\"https://api.twitter.com/2/problems/not-authorized-for-resource\",e.DisallowedResource=\"https://api.twitter.com/2/problems/disallowed-resource\"}(t.EApiV2ErrorCode||(t.EApiV2ErrorCode={}))},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0})},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.ETwitterStreamEvent=void 0,function(e){e.Connected=\"connected\",e.ConnectError=\"connect error\",e.ConnectionError=\"connection error\",e.ConnectionClosed=\"connection closed\",e.ConnectionLost=\"connection lost\",e.ReconnectAttempt=\"reconnect attempt\",e.Reconnected=\"reconnected\",e.ReconnectError=\"reconnect error\",e.ReconnectLimitExceeded=\"reconnect limit exceeded\",e.DataKeepAlive=\"data keep-alive\",e.Data=\"data event content\",e.DataError=\"data twitter error\",e.TweetParseError=\"data tweet parse error\",e.Error=\"stream error\"}(t.ETwitterStreamEvent||(t.ETwitterStreamEvent={}))},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0})},function(e,t,r){\"use strict\";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(61),t)},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.TwitterApiPluginResponseOverride=void 0;t.TwitterApiPluginResponseOverride=class{constructor(e){this.value=e}}},function(e,t,r){\"use strict\";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.ClientRequestMaker=void 0;const i=r(1),n=s(r(8)),a=r(67),o=r(2),u=s(r(17)),c=s(r(16)),l=s(r(19)),d=r(20);class h{constructor(e){this.rateLimits={},this.clientSettings={},e&&(this.clientSettings=e)}getRateLimits(){return this.rateLimits}saveRateLimit(e,t){this.rateLimits[e]=t}async send(e){var t,r,s,i,n;if(null===(t=this.clientSettings.plugins)||void 0===t?void 0:t.length){const t=await this.applyPreRequestConfigHooks(e);if(t)return t}const o=this.getHttpRequestArgs(e),u={method:o.method,headers:o.headers,timeout:e.timeout,agent:this.clientSettings.httpAgent},d=!1!==e.enableRateLimitSave;o.body&&l.default.setBodyLengthHeader(u,o.body),(null===(r=this.clientSettings.plugins)||void 0===r?void 0:r.length)&&await this.applyPreRequestHooks(e,o,u);let h=new c.default({url:o.url,options:u,body:o.body,rateLimitSaver:d?this.saveRateLimit.bind(this,o.rawUrl):void 0,requestEventDebugHandler:e.requestEventDebugHandler,compression:null===(i=null!==(s=e.compression)&&void 0!==s?s:this.clientSettings.compression)||void 0===i||i,forceParseMode:e.forceParseMode}).makeRequest();a.hasRequestErrorPlugins(this)&&(h=this.applyResponseErrorHooks(e,o,u,h));const p=await h;if(null===(n=this.clientSettings.plugins)||void 0===n?void 0:n.length){const t=await this.applyPostRequestHooks(e,o,u,p);if(t)return t.value}return p}sendStream(e){var t,r;this.clientSettings.plugins&&this.applyPreStreamRequestConfigHooks(e);const s=this.getHttpRequestArgs(e),i={method:s.method,headers:s.headers,agent:this.clientSettings.httpAgent},a=!1!==e.enableRateLimitSave,o=!1!==e.autoConnect;s.body&&l.default.setBodyLengthHeader(i,s.body);const u={url:s.url,options:i,body:s.body,rateLimitSaver:a?this.saveRateLimit.bind(this,s.rawUrl):void 0,payloadIsError:e.payloadIsError,compression:null===(r=null!==(t=e.compression)&&void 0!==t?t:this.clientSettings.compression)||void 0===r||r},c=new n.default(u);return o?c.connect():c}initializeToken(e){if(\"string\"==typeof e)this.bearerToken=e;else if(\"object\"==typeof e&&\"appKey\"in e)this.consumerToken=e.appKey,this.consumerSecret=e.appSecret,e.accessToken&&e.accessSecret&&(this.accessToken=e.accessToken,this.accessSecret=e.accessSecret),this._oauth=this.buildOAuth();else if(\"object\"==typeof e&&\"username\"in e){const t=encodeURIComponent(e.username)+\":\"+encodeURIComponent(e.password);this.basicToken=Buffer.from(t).toString(\"base64\")}else\"object\"==typeof e&&\"clientId\"in e&&(this.clientId=e.clientId,this.clientSecret=e.clientSecret)}getActiveTokens(){return this.bearerToken?{type:\"oauth2\",bearerToken:this.bearerToken}:this.basicToken?{type:\"basic\",token:this.basicToken}:this.consumerSecret&&this._oauth?{type:\"oauth-1.0a\",appKey:this.consumerToken,appSecret:this.consumerSecret,accessToken:this.accessToken,accessSecret:this.accessSecret}:this.clientId?{type:\"oauth2-user\",clientId:this.clientId}:{type:\"none\"}}buildOAuth(){if(!this.consumerSecret||!this.consumerToken)throw new Error(\"Invalid consumer tokens\");return new u.default({consumerKeys:{key:this.consumerToken,secret:this.consumerSecret}})}getOAuthAccessTokens(){if(this.accessSecret&&this.accessToken)return{key:this.accessToken,secret:this.accessSecret}}getPlugins(){var e;return null!==(e=this.clientSettings.plugins)&&void 0!==e?e:[]}hasPlugins(){var e;return!!(null===(e=this.clientSettings.plugins)||void 0===e?void 0:e.length)}async applyPluginMethod(e,t){var r;let s;for(const n of this.getPlugins()){const a=await(null===(r=n[e])||void 0===r?void 0:r.call(n,t));a&&a instanceof i.TwitterApiPluginResponseOverride&&(s=a)}return s}writeAuthHeaders({headers:e,bodyInSignature:t,url:r,method:s,query:i,body:n}){if(e={...e},this.bearerToken)e.Authorization=\"Bearer \"+this.bearerToken;else if(this.basicToken)e.Authorization=\"Basic \"+this.basicToken;else if(this.clientId&&this.clientSecret)e.Authorization=\"Basic \"+d.OAuth2Helper.getAuthHeader(this.clientId,this.clientSecret);else if(this.consumerSecret&&this._oauth){const a=t?l.default.mergeQueryAndBodyForOAuth(i,n):i,o=this._oauth.authorize({url:r.toString(),method:s,data:a},this.getOAuthAccessTokens());e={...e,...this._oauth.toHeader(o)}}return e}getUrlObjectFromUrlString(e){return e.startsWith(\"http\")||(e=\"https://\"+e),new URL(e)}getHttpRequestArgs({url:e,method:t,query:r={},body:s={},headers:i,forceBodyMode:n,enableAuth:a,params:u}){let c=void 0;t=t.toUpperCase(),(i=null!=i?i:{})[\"x-user-agent\"]||(i[\"x-user-agent\"]=\"Node.twitter-api-v2\");const d=this.getUrlObjectFromUrlString(e),p=d.origin+d.pathname;u&&l.default.applyRequestParametersToUrl(d,u);const m=l.default.formatQueryToString(r);l.default.moveUrlQueryParamsIntoObject(d,m),s instanceof Buffer||o.trimUndefinedProperties(s);const f=null!=n?n:l.default.autoDetectBodyType(d);if(!1!==a){const e=h.BODY_METHODS.has(t)&&\"url\"===f;i=this.writeAuthHeaders({headers:i,bodyInSignature:e,method:t,query:m,url:d,body:s})}return h.BODY_METHODS.has(t)&&(c=l.default.constructBodyParams(s,i,f)||void 0),l.default.addQueryParamsToUrl(d,m),{rawUrl:p,url:d,method:t,headers:i,body:c}}async applyPreRequestConfigHooks(e){var t;const r=this.getUrlObjectFromUrlString(e.url);for(const s of this.getPlugins()){const i=await(null===(t=s.onBeforeRequestConfig)||void 0===t?void 0:t.call(s,{client:this,url:r,params:e}));if(i)return i}}applyPreStreamRequestConfigHooks(e){var t;const r=this.getUrlObjectFromUrlString(e.url);for(const s of this.getPlugins())null===(t=s.onBeforeStreamRequestConfig)||void 0===t||t.call(s,{client:this,url:r,params:e})}async applyPreRequestHooks(e,t,r){await this.applyPluginMethod(\"onBeforeRequest\",{client:this,url:this.getUrlObjectFromUrlString(e.url),params:e,computedParams:t,requestOptions:r})}async applyPostRequestHooks(e,t,r,s){return await this.applyPluginMethod(\"onAfterRequest\",{client:this,url:this.getUrlObjectFromUrlString(e.url),params:e,computedParams:t,requestOptions:r,response:s})}applyResponseErrorHooks(e,t,r,s){return s.catch(a.applyResponseHooks.bind(this,e,t,r))}}t.ClientRequestMaker=h,h.BODY_METHODS=new Set([\"POST\",\"PUT\",\"PATCH\"])},function(e,t){e.exports=require(\"https\")},function(e,t){e.exports=require(\"zlib\")},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.TweetStreamEventCombiner=void 0;const s=r(9),i=r(1);class n extends s.EventEmitter{constructor(e){super(),this.stream=e,this.stack=[],this.onStreamData=this.onStreamData.bind(this),this.onStreamError=this.onStreamError.bind(this),this.onceNewEvent=this.once.bind(this,\"event\"),e.on(i.ETwitterStreamEvent.Data,this.onStreamData),e.on(i.ETwitterStreamEvent.ConnectionError,this.onStreamError),e.on(i.ETwitterStreamEvent.TweetParseError,this.onStreamError),e.on(i.ETwitterStreamEvent.ConnectionClosed,this.onStreamError)}nextEvent(){return new Promise(this.onceNewEvent)}hasStack(){return this.stack.length>0}popStack(){const e=this.stack;return this.stack=[],e}destroy(){this.removeAllListeners(),this.stream.off(i.ETwitterStreamEvent.Data,this.onStreamData),this.stream.off(i.ETwitterStreamEvent.ConnectionError,this.onStreamError),this.stream.off(i.ETwitterStreamEvent.TweetParseError,this.onStreamError),this.stream.off(i.ETwitterStreamEvent.ConnectionClosed,this.onStreamError)}emitEvent(e,t){this.emit(\"event\",{type:e,payload:t})}onStreamError(e){this.emitEvent(\"error\",e)}onStreamData(e){this.stack.push(e),this.emitEvent(\"data\",e)}}t.TweetStreamEventCombiner=n,t.default=n},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.EStreamParserEvent=void 0;const s=r(9);class i extends s.EventEmitter{constructor(){super(...arguments),this.currentMessage=\"\"}push(e){this.currentMessage+=e;const t=(e=this.currentMessage).length;let r=0,s=0;for(;s<t;){if(\"\\r\\n\"===e.slice(s,s+2)){const t=e.slice(r,s);if(r=s+=2,!t.length)continue;try{const e=JSON.parse(t);if(e){this.emit(n.ParsedData,e);continue}}catch(e){this.emit(n.ParseError,e)}}s++}this.currentMessage=e.slice(r,t)}reset(){this.currentMessage=\"\"}}var n;t.default=i,function(e){e.ParsedData=\"parsed data\",e.ParseError=\"parse error\"}(n=t.EStreamParserEvent||(t.EStreamParserEvent={}))},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.applyResponseHooks=t.hasRequestErrorPlugins=void 0;const s=r(1);t.hasRequestErrorPlugins=function(e){var t;if(!(null===(t=e.clientSettings.plugins)||void 0===t?void 0:t.length))return!1;for(const t of e.clientSettings.plugins)if(t.onRequestError||t.onResponseError)return!0;return!1},t.applyResponseHooks=async function(e,t,r,i){let n;return i instanceof s.ApiRequestError||i instanceof s.ApiPartialResponseError?n=await this.applyPluginMethod(\"onRequestError\",{client:this,url:this.getUrlObjectFromUrlString(e.url),params:e,computedParams:t,requestOptions:r,error:i}):i instanceof s.ApiResponseError&&(n=await this.applyPluginMethod(\"onResponseError\",{client:this,url:this.getUrlObjectFromUrlString(e.url),params:e,computedParams:t,requestOptions:r,error:i})),n&&n instanceof s.TwitterApiPluginResponseOverride?n.value:Promise.reject(i)}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.FormDataHelper=void 0;const s=r(2);class i{constructor(){this._boundary=\"\",this._chunks=[]}bodyAppend(...e){const t=e.map(e=>e instanceof Buffer?e:Buffer.from(e));this._chunks.push(...t)}append(e,t,r){const s=t instanceof Buffer?t:t.toString(),n=this.getMultipartHeader(e,s,r);this.bodyAppend(n,s,i.LINE_BREAK)}getHeaders(){return{\"content-type\":\"multipart/form-data; boundary=\"+this.getBoundary()}}getLength(){return this._chunks.reduce((e,t)=>e+t.length,this.getMultipartFooter().length)}getBuffer(){const e=[...this._chunks,this.getMultipartFooter()],t=Buffer.alloc(this.getLength());let r=0;for(const s of e)for(let e=0;e<s.length;r++,e++)t[r]=s[e];return t}getBoundary(){return this._boundary||this.generateBoundary(),this._boundary}generateBoundary(){let e=\"--------------------------\";for(let t=0;t<24;t++)e+=Math.floor(10*Math.random()).toString(16);this._boundary=e}getMultipartHeader(e,t,r){r||(r=t instanceof Buffer?i.DEFAULT_CONTENT_TYPE:\"\");const n={\"Content-Disposition\":[\"form-data\",`name=\"${e}\"`],\"Content-Type\":r};let a=\"\";for(const[e,t]of Object.entries(n))t.length&&(a+=e+\": \"+s.arrayWrap(t).join(\"; \")+i.LINE_BREAK);return\"--\"+this.getBoundary()+i.LINE_BREAK+a+i.LINE_BREAK}getMultipartFooter(){return this._footerChunk?this._footerChunk:this._footerChunk=Buffer.from(\"--\"+this.getBoundary()+\"--\"+i.LINE_BREAK)}}t.FormDataHelper=i,i.LINE_BREAK=\"\\r\\n\",i.DEFAULT_CONTENT_TYPE=\"application/octet-stream\"},function(e,t,r){\"use strict\";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,\"default\",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)\"default\"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&s(t,e,r);return i(t,e),t};Object.defineProperty(t,\"__esModule\",{value:!0}),t.readNextPartOf=t.sleepSecs=t.getMediaCategoryByMime=t.getMimeType=t.getFileSizeFromFileHandle=t.getFileHandle=t.readFileIntoBuffer=void 0;const a=n(r(25)),o=r(2),u=r(1);function c(e){if(\"string\"==typeof e)return a.promises.open(e,\"r\");if(\"number\"==typeof e)return e;if(\"object\"!=typeof e||e instanceof Buffer){if(e instanceof Buffer)return e;throw new Error(\"Given file is not valid, please check its type.\")}return e}t.readFileIntoBuffer=async function(e){const t=await c(e);return\"number\"==typeof t?new Promise((e,r)=>{a.readFile(t,(t,s)=>{if(t)return r(t);e(s)})}):t instanceof Buffer?t:t.readFile()},t.getFileHandle=c,t.getFileSizeFromFileHandle=async function(e){if(\"number\"==typeof e){return(await new Promise((t,r)=>{a.fstat(e,(e,s)=>{e&&r(e),t(s)})})).size}return e instanceof Buffer?e.length:(await e.stat()).size},t.getMimeType=function(e,t,r){if(\"string\"==typeof r)return r;if(\"string\"==typeof e&&!t)return(s=e).endsWith(\".jpeg\")||s.endsWith(\".jpg\")?u.EUploadMimeType.Jpeg:s.endsWith(\".png\")?u.EUploadMimeType.Png:s.endsWith(\".webp\")?u.EUploadMimeType.Webp:s.endsWith(\".gif\")?u.EUploadMimeType.Gif:s.endsWith(\".mpeg4\")||s.endsWith(\".mp4\")?u.EUploadMimeType.Mp4:s.endsWith(\".srt\")?u.EUploadMimeType.Srt:(o.safeDeprecationWarning({instance:\"TwitterApiv1ReadWrite\",method:\"uploadMedia\",problem:\"options.mimeType is missing and filename couldn't help to resolve MIME type, so it will fallback to image/jpeg\",resolution:\"If you except to give filenames without extensions, please specify explicitlty the MIME type using options.mimeType\"}),u.EUploadMimeType.Jpeg);if(\"string\"==typeof t)return function(e){return o.safeDeprecationWarning({instance:\"TwitterApiv1ReadWrite\",method:\"uploadMedia\",problem:\"you're using options.type\",resolution:\"Remove options.type argument and migrate to options.mimeType which takes the real MIME type. If you're using type=longmp4, add options.longVideo alongside of mimeType=EUploadMimeType.Mp4\"}),\"gif\"===e?u.EUploadMimeType.Gif:\"jpg\"===e?u.EUploadMimeType.Jpeg:\"png\"===e?u.EUploadMimeType.Png:\"webp\"===e?u.EUploadMimeType.Webp:\"srt\"===e?u.EUploadMimeType.Srt:\"mp4\"===e||\"longmp4\"===e?u.EUploadMimeType.Mp4:e}(t);var s;throw new Error(\"You must specify type if file is a file handle or Buffer.\")},t.getMediaCategoryByMime=function(e,t){return e===u.EUploadMimeType.Mp4?\"tweet\"===t?\"TweetVideo\":\"DmVideo\":e===u.EUploadMimeType.Gif?\"tweet\"===t?\"TweetGif\":\"DmGif\":e===u.EUploadMimeType.Srt?\"Subtitles\":\"tweet\"===t?\"TweetImage\":\"DmImage\"},t.sleepSecs=function(e){return new Promise(t=>setTimeout(t,1e3*e))},t.readNextPartOf=async function(e,t,r=0,s){if(e instanceof Buffer){const s=e.slice(r,r+t);return[s,s.length]}if(!s)throw new Error(\"Well, we will need a buffer to store file content.\");let i;if(\"number\"==typeof e)i=await new Promise((i,n)=>{a.read(e,s,0,t,r,(e,t)=>{e&&n(e),i(t)})});else{i=(await e.read(s,0,t,r)).bytesRead}return[s,i]}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.TweetV2ListTweetsPaginator=t.TweetV2UserLikedTweetsPaginator=t.TweetBookmarksTimelineV2Paginator=t.TweetUserMentionTimelineV2Paginator=t.TweetUserTimelineV2Paginator=t.QuotedTweetsTimelineV2Paginator=t.TweetSearchAllV2Paginator=t.TweetSearchRecentV2Paginator=void 0;const s=r(11);class i extends s.TwitterV2Paginator{refreshInstanceFromResult(e,t){var r;const s=e.data,i=null!==(r=s.data)&&void 0!==r?r:[];this._rateLimit=e.rateLimit,this._realData.data||(this._realData.data=[]),t?(this._realData.meta.oldest_id=s.meta.oldest_id,this._realData.meta.result_count+=s.meta.result_count,this._realData.meta.next_token=s.meta.next_token,this._realData.data.push(...i)):(this._realData.meta.newest_id=s.meta.newest_id,this._realData.meta.result_count+=s.meta.result_count,this._realData.data.unshift(...i)),this.updateIncludes(s)}getNextQueryParams(e){this.assertUsable();const t={...this.injectQueryParams(e)};return this._realData.meta.next_token?t.next_token=this._realData.meta.next_token:(t.start_time&&(t.since_id=this.dateStringToSnowflakeId(t.start_time),delete t.start_time),t.end_time&&delete t.end_time,t.until_id=this._realData.meta.oldest_id),t}getPreviousQueryParams(e){return this.assertUsable(),{...this.injectQueryParams(e),since_id:this._realData.meta.newest_id}}getPageLengthFromRequest(e){var t,r;return null!==(r=null===(t=e.data.data)||void 0===t?void 0:t.length)&&void 0!==r?r:0}isFetchLastOver(e){var t;return!(null===(t=e.data.data)||void 0===t?void 0:t.length)||!this.canFetchNextPage(e.data)}canFetchNextPage(e){return!!e.meta.next_token}getItemArray(){return this.tweets}dateStringToSnowflakeId(e){const t=BigInt(\"1288834974657\"),r=new Date(e);if(isNaN(r.valueOf()))throw new Error(\"Unable to convert start_time/end_time to a valid date. A ISO 8601 DateTime is excepted, please check your input.\");return(BigInt(r.valueOf())-t<<BigInt(\"22\")).toString()}get tweets(){var e;return null!==(e=this._realData.data)&&void 0!==e?e:[]}get meta(){return super.meta}}class n extends s.TimelineV2Paginator{refreshInstanceFromResult(e,t){super.refreshInstanceFromResult(e,t);const r=e.data;t?this._realData.meta.oldest_id=r.meta.oldest_id:this._realData.meta.newest_id=r.meta.newest_id}getItemArray(){return this.tweets}get tweets(){var e;return null!==(e=this._realData.data)&&void 0!==e?e:[]}get meta(){return super.meta}}t.TweetSearchRecentV2Paginator=class extends i{constructor(){super(...arguments),this._endpoint=\"tweets/search/recent\"}};t.TweetSearchAllV2Paginator=class extends i{constructor(){super(...arguments),this._endpoint=\"tweets/search/all\"}};t.QuotedTweetsTimelineV2Paginator=class extends n{constructor(){super(...arguments),this._endpoint=\"tweets/:id/quote_tweets\"}};t.TweetUserTimelineV2Paginator=class extends n{constructor(){super(...arguments),this._endpoint=\"users/:id/tweets\"}};t.TweetUserMentionTimelineV2Paginator=class extends n{constructor(){super(...arguments),this._endpoint=\"users/:id/mentions\"}};t.TweetBookmarksTimelineV2Paginator=class extends n{constructor(){super(...arguments),this._endpoint=\"users/:id/bookmarks\"}};class a extends s.TimelineV2Paginator{get tweets(){var e;return null!==(e=this._realData.data)&&void 0!==e?e:[]}get meta(){return super.meta}getItemArray(){return this.tweets}}t.TweetV2UserLikedTweetsPaginator=class extends a{constructor(){super(...arguments),this._endpoint=\"users/:id/liked_tweets\"}};t.TweetV2ListTweetsPaginator=class extends a{constructor(){super(...arguments),this._endpoint=\"lists/:id/tweets\"}}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.UserListFollowedV2Paginator=t.UserListMembershipsV2Paginator=t.UserOwnedListsV2Paginator=void 0;const s=r(11);class i extends s.TimelineV2Paginator{getItemArray(){return this.lists}get lists(){var e;return null!==(e=this._realData.data)&&void 0!==e?e:[]}get meta(){return super.meta}}t.UserOwnedListsV2Paginator=class extends i{constructor(){super(...arguments),this._endpoint=\"users/:id/owned_lists\"}};t.UserListMembershipsV2Paginator=class extends i{constructor(){super(...arguments),this._endpoint=\"users/:id/list_memberships\"}};t.UserListFollowedV2Paginator=class extends i{constructor(){super(...arguments),this._endpoint=\"users/:id/followed_lists\"}}}]));","extractedComments":[]}